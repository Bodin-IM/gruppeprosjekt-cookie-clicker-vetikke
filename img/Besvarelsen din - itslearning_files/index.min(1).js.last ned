var jt=Object.defineProperty;var Wt=(n,e,t)=>e in n?jt(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var ke=(n,e,t)=>(Wt(n,typeof e!="symbol"?e+"":e,t),t);/* empty css                *//* empty css                  */(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))l(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&l(r)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function l(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();function me(){}function Jt(n,e){for(const t in e)n[t]=e[t];return n}function bt(n){return n()}function Tn(){return Object.create(null)}function _e(n){n.forEach(bt)}function gt(n){return typeof n=="function"}function ee(n,e){return n!=n?e==e:n!==e||n&&typeof n=="object"||typeof n=="function"}let Qe;function en(n,e){return n===e?!0:(Qe||(Qe=document.createElement("a")),Qe.href=e,n===Qe.href)}function Qt(n){return Object.keys(n).length===0}function Xt(n,...e){if(n==null){for(const l of e)l(void 0);return me}const t=n.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function ze(n,e,t){n.$$.on_destroy.push(Xt(e,t))}function ie(n,e,t,l){if(n){const i=pt(n,e,t,l);return n[0](i)}}function pt(n,e,t,l){return n[1]&&l?Jt(t.ctx.slice(),n[1](l(e))):t.ctx}function oe(n,e,t,l){if(n[2]&&l){const i=n[2](l(t));if(e.dirty===void 0)return i;if(typeof i=="object"){const o=[],r=Math.max(e.dirty.length,i.length);for(let a=0;a<r;a+=1)o[a]=e.dirty[a]|i[a];return o}return e.dirty|i}return e.dirty}function re(n,e,t,l,i,o){if(i){const r=pt(e,t,l,o);n.p(r,i)}}function se(n){if(n.ctx.length>32){const e=[],t=n.ctx.length/32;for(let l=0;l<t;l++)e[l]=-1;return e}return-1}function Yt(n){const e={};for(const t in n)e[t]=!0;return e}const wt=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function v(n,e){n.appendChild(e)}function I(n,e,t){n.insertBefore(e,t||null)}function F(n){n.parentNode&&n.parentNode.removeChild(n)}function nn(n,e){for(let t=0;t<n.length;t+=1)n[t]&&n[t].d(e)}function O(n){return document.createElement(n)}function Zt(n){return document.createElementNS("http://www.w3.org/2000/svg",n)}function $(n){return document.createTextNode(n)}function H(){return $(" ")}function we(){return $("")}function V(n,e,t,l){return n.addEventListener(e,t,l),()=>n.removeEventListener(e,t,l)}function _(n,e,t){t==null?n.removeAttribute(e):n.getAttribute(e)!==t&&n.setAttribute(e,t)}function xt(n){return Array.from(n.childNodes)}function ue(n,e){e=""+e,n.data!==e&&(n.data=e)}function le(n,e,t){n.classList.toggle(e,!!t)}function $t(n,e,{bubbles:t=!1,cancelable:l=!1}={}){return new CustomEvent(n,{detail:e,bubbles:t,cancelable:l})}class Ge{constructor(e=!1){ke(this,"is_svg",!1);ke(this,"e");ke(this,"n");ke(this,"t");ke(this,"a");this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,t,l=null){this.e||(this.is_svg?this.e=Zt(t.nodeName):this.e=O(t.nodeType===11?"TEMPLATE":t.nodeName),this.t=t.tagName!=="TEMPLATE"?t:t.content,this.c(e)),this.i(l)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(e){for(let t=0;t<this.n.length;t+=1)I(this.t,this.n[t],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(F)}}let He;function Me(n){He=n}function tn(){if(!He)throw new Error("Function called outside component initialization");return He}function yt(n){tn().$$.before_update.push(n)}function bn(n){tn().$$.on_mount.push(n)}function el(n){tn().$$.on_destroy.push(n)}function ye(){const n=tn();return(e,t,{cancelable:l=!1}={})=>{const i=n.$$.callbacks[e];if(i){const o=$t(e,t,{cancelable:l});return i.slice().forEach(r=>{r.call(n,o)}),!o.defaultPrevented}return!0}}function z(n,e){const t=n.$$.callbacks[e.type];t&&t.slice().forEach(l=>l.call(this,e))}const Le=[],be=[];let Ae=[];const an=[],kt=Promise.resolve();let cn=!1;function Tt(){cn||(cn=!0,kt.then(Ct))}function nl(){return Tt(),kt}function fn(n){Ae.push(n)}function Ke(n){an.push(n)}const un=new Set;let Pe=0;function Ct(){if(Pe!==0)return;const n=He;do{try{for(;Pe<Le.length;){const e=Le[Pe];Pe++,Me(e),tl(e.$$)}}catch(e){throw Le.length=0,Pe=0,e}for(Me(null),Le.length=0,Pe=0;be.length;)be.pop()();for(let e=0;e<Ae.length;e+=1){const t=Ae[e];un.has(t)||(un.add(t),t())}Ae.length=0}while(Le.length);for(;an.length;)an.pop()();cn=!1,un.clear(),Me(n)}function tl(n){if(n.fragment!==null){n.update(),_e(n.before_update);const e=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,e),n.after_update.forEach(fn)}}function ll(n){const e=[],t=[];Ae.forEach(l=>n.indexOf(l)===-1?e.push(l):t.push(l)),t.forEach(l=>l()),Ae=e}const xe=new Set;let Ee;function ce(){Ee={r:0,c:[],p:Ee}}function fe(){Ee.r||_e(Ee.c),Ee=Ee.p}function y(n,e){n&&n.i&&(xe.delete(n),n.i(e))}function C(n,e,t,l){if(n&&n.o){if(xe.has(n))return;xe.add(n),Ee.c.push(()=>{xe.delete(n),l&&(t&&n.d(1),l())}),n.o(e)}else l&&l()}function Ce(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}function je(n,e,t){const l=n.$$.props[e];l!==void 0&&(n.$$.bound[l]=t,t(n.$$.ctx[l]))}function j(n){n&&n.c()}function G(n,e,t){const{fragment:l,after_update:i}=n.$$;l&&l.m(e,t),fn(()=>{const o=n.$$.on_mount.map(bt).filter(gt);n.$$.on_destroy?n.$$.on_destroy.push(...o):_e(o),n.$$.on_mount=[]}),i.forEach(fn)}function K(n,e){const t=n.$$;t.fragment!==null&&(ll(t.after_update),_e(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function il(n,e){n.$$.dirty[0]===-1&&(Le.push(n),Tt(),n.$$.dirty.fill(0)),n.$$.dirty[e/31|0]|=1<<e%31}function ne(n,e,t,l,i,o,r=null,a=[-1]){const u=He;Me(n);const s=n.$$={fragment:null,ctx:[],props:o,update:me,not_equal:i,bound:Tn(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:Tn(),dirty:a,skip_bound:!1,root:e.target||u.$$.root};r&&r(s.root);let c=!1;if(s.ctx=t?t(n,e.props||{},(f,d,...m)=>{const h=m.length?m[0]:d;return s.ctx&&i(s.ctx[f],s.ctx[f]=h)&&(!s.skip_bound&&s.bound[f]&&s.bound[f](h),c&&il(n,f)),d}):[],s.update(),c=!0,_e(s.before_update),s.fragment=l?l(s.ctx):!1,e.target){if(e.hydrate){const f=xt(e.target);s.fragment&&s.fragment.l(f),f.forEach(F)}else s.fragment&&s.fragment.c();e.intro&&y(n.$$.fragment),G(n,e.target,e.anchor),Ct()}Me(u)}class te{constructor(){ke(this,"$$");ke(this,"$$set")}$destroy(){K(this,1),this.$destroy=me}$on(e,t){if(!gt(t))return me;const l=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return l.push(t),()=>{const i=l.indexOf(t);i!==-1&&l.splice(i,1)}}$set(e){this.$$set&&!Qt(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const ol="4",Oe=[];function rl(n,e=me){let t;const l=new Set;function i(a){if(ee(n,a)&&(n=a,t)){const u=!Oe.length;for(const s of l)s[1](),Oe.push(s,n);if(u){for(let s=0;s<Oe.length;s+=2)Oe[s][0](Oe[s+1]);Oe.length=0}}}function o(a){i(a(n))}function r(a,u=me){const s=[a,u];return l.add(s),l.size===1&&(t=e(i,o)||me),a(n),()=>{l.delete(s),l.size===0&&t&&(t(),t=null)}}return{set:i,update:o,subscribe:r}}const sl=window["contentarea-actionlist-configuration"],Se=rl(Object.assign({i18n:{},kpiUrl:void 0,kpis:{},menuOptionItems:[],showAllUrl:null,resourcesUrl:null,singleResourceUrl:null,showOffice365InsteadOfOneDrive:!1,enableUploadFromOneDrive:!1,enableLinkingFromOneDrive:!1,cloudServiceSettings:{},recentCloudFiles:{},cloudFileIcons:{},courseId:null,folderId:null,filesStatus:[],filesForUpload:[],filesForUploadFromExternalSource:[],apiError:null,fileValidationSettings:{},fileRepoSettings:{},antiForgeryHeaderSettings:{},staticContentPath:"",pollingIntervalOfMultipleFilesUploadStatusInMilliseconds:3e3,plannerUrl:null},sl));function he(){let n;return Se.subscribe(t=>{n=t})(),n}function qe(n){Se.update(e=>({...e,...n}))}typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(ol);function ul(n){let e,t,l,i,o,r,a;return{c(){e=O("button"),t=O("span"),l=O("span"),i=$(n[3]),_(l,"class",n[14]),_(t,"class","prom-button__text"),_(e,"aria-haspopup",n[6]),_(e,"aria-expanded",n[7]),_(e,"aria-label",n[10]),_(e,"aria-labelledby",n[9]),_(e,"aria-describedby",n[8]),_(e,"id",n[1]),_(e,"type",n[5]),_(e,"class",o="prom-button prom-button__"+n[0]+" "+n[2]+" "+n[12]+" "+n[13]),e.disabled=n[4],_(e,"data-active",n[11])},m(u,s){I(u,e,s),v(e,t),v(t,l),v(l,i),r||(a=[V(e,"click",n[19]),V(e,"focus",n[20]),V(e,"blur",n[21]),V(e,"keyup",n[22]),V(e,"keydown",n[23])],r=!0)},p(u,[s]){s&8&&ue(i,u[3]),s&16384&&_(l,"class",u[14]),s&64&&_(e,"aria-haspopup",u[6]),s&128&&_(e,"aria-expanded",u[7]),s&1024&&_(e,"aria-label",u[10]),s&512&&_(e,"aria-labelledby",u[9]),s&256&&_(e,"aria-describedby",u[8]),s&2&&_(e,"id",u[1]),s&32&&_(e,"type",u[5]),s&12293&&o!==(o="prom-button prom-button__"+u[0]+" "+u[2]+" "+u[12]+" "+u[13])&&_(e,"class",o),s&16&&(e.disabled=u[4]),s&2048&&_(e,"data-active",u[11])},i:me,o:me,d(u){u&&F(e),r=!1,_e(a)}}}function al(n,e,t){let l,i,o,r,a,{type:u="basic"}=e,{iconOnly:s=!1}=e,{id:c=void 0}=e,{cssClass:f=""}=e,{text:d=""}=e,{large:m=!1}=e,{disabled:h=!1}=e,{loading:p=!1}=e,{htmlType:E="submit"}=e,{haspopup:U=void 0}=e,{expanded:g=void 0}=e,{ariaLabel:D=void 0}=e,{describedby:M=void 0}=e,{labelledby:T=void 0}=e;function b(B){z.call(this,n,B)}function w(B){z.call(this,n,B)}function P(B){z.call(this,n,B)}function N(B){z.call(this,n,B)}function Z(B){z.call(this,n,B)}return n.$$set=B=>{"type"in B&&t(0,u=B.type),"iconOnly"in B&&t(15,s=B.iconOnly),"id"in B&&t(1,c=B.id),"cssClass"in B&&t(2,f=B.cssClass),"text"in B&&t(3,d=B.text),"large"in B&&t(16,m=B.large),"disabled"in B&&t(4,h=B.disabled),"loading"in B&&t(17,p=B.loading),"htmlType"in B&&t(5,E=B.htmlType),"haspopup"in B&&t(6,U=B.haspopup),"expanded"in B&&t(7,g=B.expanded),"ariaLabel"in B&&t(18,D=B.ariaLabel),"describedby"in B&&t(8,M=B.describedby),"labelledby"in B&&t(9,T=B.labelledby)},n.$$.update=()=>{n.$$.dirty&32768&&t(14,l=s?"prom-button__text--hidden":""),n.$$.dirty&65536&&t(13,i=m?"prom-button--large":""),n.$$.dirty&131072&&t(12,o=p?"prom-button--loading":""),n.$$.dirty&131088&&t(11,r=!p&&!h),n.$$.dirty&294920&&t(10,a=D||(s?d:void 0))},[u,c,f,d,h,E,U,g,M,T,a,r,o,i,l,s,m,p,D,b,w,P,N,Z]}class We extends te{constructor(e){super(),ne(this,e,al,ul,ee,{type:0,iconOnly:15,id:1,cssClass:2,text:3,large:16,disabled:4,loading:17,htmlType:5,haspopup:6,expanded:7,ariaLabel:18,describedby:8,labelledby:9})}}function cl(n){let e,t;return e=new We({props:{cssClass:"prom-icon-button "+n[17]+" "+n[15]+" "+n[4],disabled:n[0],haspopup:n[1],expanded:n[2],iconOnly:n[5],id:n[6],large:n[7],loading:n[8],text:n[9],type:n[11],htmlType:n[3],ariaLabel:n[12],labelledby:n[13],describedby:n[14]}}),e.$on("blur",n[29]),e.$on("click",n[30]),e.$on("focus",n[31]),e.$on("keyup",n[32]),e.$on("keydown",n[33]),{c(){j(e.$$.fragment)},m(l,i){G(e,l,i),t=!0},p(l,i){const o={};i[0]&163856&&(o.cssClass="prom-icon-button "+l[17]+" "+l[15]+" "+l[4]),i[0]&1&&(o.disabled=l[0]),i[0]&2&&(o.haspopup=l[1]),i[0]&4&&(o.expanded=l[2]),i[0]&32&&(o.iconOnly=l[5]),i[0]&64&&(o.id=l[6]),i[0]&128&&(o.large=l[7]),i[0]&256&&(o.loading=l[8]),i[0]&512&&(o.text=l[9]),i[0]&2048&&(o.type=l[11]),i[0]&8&&(o.htmlType=l[3]),i[0]&4096&&(o.ariaLabel=l[12]),i[0]&8192&&(o.labelledby=l[13]),i[0]&16384&&(o.describedby=l[14]),e.$set(o)},i(l){t||(y(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){K(e,l)}}}function fl(n){let e,t;return e=new We({props:{cssClass:"prom-icon-button "+n[16],disabled:n[0],haspopup:n[1],expanded:n[2],iconOnly:n[5],id:n[6],large:n[7],loading:n[8],text:n[9],type:n[11],htmlType:n[3],ariaLabel:n[12],labelledby:n[13],describedby:n[14]}}),e.$on("blur",n[24]),e.$on("click",n[25]),e.$on("focus",n[26]),e.$on("keyup",n[27]),e.$on("keydown",n[28]),{c(){j(e.$$.fragment)},m(l,i){G(e,l,i),t=!0},p(l,i){const o={};i[0]&65536&&(o.cssClass="prom-icon-button "+l[16]),i[0]&1&&(o.disabled=l[0]),i[0]&2&&(o.haspopup=l[1]),i[0]&4&&(o.expanded=l[2]),i[0]&32&&(o.iconOnly=l[5]),i[0]&64&&(o.id=l[6]),i[0]&128&&(o.large=l[7]),i[0]&256&&(o.loading=l[8]),i[0]&512&&(o.text=l[9]),i[0]&2048&&(o.type=l[11]),i[0]&8&&(o.htmlType=l[3]),i[0]&4096&&(o.ariaLabel=l[12]),i[0]&8192&&(o.labelledby=l[13]),i[0]&16384&&(o.describedby=l[14]),e.$set(o)},i(l){t||(y(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){K(e,l)}}}function dl(n){let e,t;return e=new We({props:{cssClass:"prom-icon-button "+n[15]+" "+n[4],disabled:n[0],haspopup:n[1],expanded:n[2],id:n[6],large:n[7],loading:n[8],text:n[9],type:n[11],htmlType:n[3],ariaLabel:n[12],labelledby:n[13],describedby:n[14]}}),e.$on("blur",n[19]),e.$on("click",n[20]),e.$on("focus",n[21]),e.$on("keyup",n[22]),e.$on("keydown",n[23]),{c(){j(e.$$.fragment)},m(l,i){G(e,l,i),t=!0},p(l,i){const o={};i[0]&32784&&(o.cssClass="prom-icon-button "+l[15]+" "+l[4]),i[0]&1&&(o.disabled=l[0]),i[0]&2&&(o.haspopup=l[1]),i[0]&4&&(o.expanded=l[2]),i[0]&64&&(o.id=l[6]),i[0]&128&&(o.large=l[7]),i[0]&256&&(o.loading=l[8]),i[0]&512&&(o.text=l[9]),i[0]&2048&&(o.type=l[11]),i[0]&8&&(o.htmlType=l[3]),i[0]&4096&&(o.ariaLabel=l[12]),i[0]&8192&&(o.labelledby=l[13]),i[0]&16384&&(o.describedby=l[14]),e.$set(o)},i(l){t||(y(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){K(e,l)}}}function ml(n){let e,t,l,i;const o=[dl,fl,cl],r=[];function a(u,s){return u[10]&&u[5]?0:u[10]?1:2}return e=a(n),t=r[e]=o[e](n),{c(){t.c(),l=we()},m(u,s){r[e].m(u,s),I(u,l,s),i=!0},p(u,s){let c=e;e=a(u),e===c?r[e].p(u,s):(ce(),C(r[c],1,1,()=>{r[c]=null}),fe(),t=r[e],t?t.p(u,s):(t=r[e]=o[e](u),t.c()),y(t,1),t.m(l.parentNode,l))},i(u){i||(y(t),i=!0)},o(u){C(t),i=!1},d(u){u&&F(l),r[e].d(u)}}}function _l(n,e,t){let l,i,o,{disabled:r=!1}=e,{haspopup:a=void 0}=e,{expanded:u=void 0}=e,{htmlType:s="submit"}=e,{iconClass:c=""}=e,{iconOnly:f=!1}=e,{iconPlacement:d="start"}=e,{id:m=void 0}=e,{large:h=!1}=e,{loading:p=!1}=e,{text:E=""}=e,{textOnly:U=!1}=e,{type:g="basic"}=e,{ariaLabel:D=void 0}=e,{labelledby:M=void 0}=e,{describedby:T=void 0}=e;function b(k){z.call(this,n,k)}function w(k){z.call(this,n,k)}function P(k){z.call(this,n,k)}function N(k){z.call(this,n,k)}function Z(k){z.call(this,n,k)}function B(k){z.call(this,n,k)}function Q(k){z.call(this,n,k)}function R(k){z.call(this,n,k)}function q(k){z.call(this,n,k)}function L(k){z.call(this,n,k)}function ae(k){z.call(this,n,k)}function A(k){z.call(this,n,k)}function W(k){z.call(this,n,k)}function X(k){z.call(this,n,k)}function x(k){z.call(this,n,k)}return n.$$set=k=>{"disabled"in k&&t(0,r=k.disabled),"haspopup"in k&&t(1,a=k.haspopup),"expanded"in k&&t(2,u=k.expanded),"htmlType"in k&&t(3,s=k.htmlType),"iconClass"in k&&t(4,c=k.iconClass),"iconOnly"in k&&t(5,f=k.iconOnly),"iconPlacement"in k&&t(18,d=k.iconPlacement),"id"in k&&t(6,m=k.id),"large"in k&&t(7,h=k.large),"loading"in k&&t(8,p=k.loading),"text"in k&&t(9,E=k.text),"textOnly"in k&&t(10,U=k.textOnly),"type"in k&&t(11,g=k.type),"ariaLabel"in k&&t(12,D=k.ariaLabel),"labelledby"in k&&t(13,M=k.labelledby),"describedby"in k&&t(14,T=k.describedby)},n.$$.update=()=>{n.$$.dirty[0]&1056&&f&&U&&console.warn("The attributes iconOnly and textOnly cannot be both set to false."),n.$$.dirty[0]&262144&&(!d||typeof d!="string"||d!=="start"&&d!=="end")&&console.warn('Valid values for iconPlacement is "start" and "end".'),n.$$.dirty[0]&32&&t(17,l=f?"prom-icon-button--icon-only":""),n.$$.dirty[0]&1024&&t(16,i=U?"prom-icon-button--text-only":""),n.$$.dirty[0]&262144&&t(15,o=d==="end"?"prom-icon-button--icon-end":"")},[r,a,u,s,c,f,m,h,p,E,U,g,D,M,T,o,i,l,d,b,w,P,N,Z,B,Q,R,q,L,ae,A,W,X,x]}class hl extends te{constructor(e){super(),ne(this,e,_l,ml,ee,{disabled:0,haspopup:1,expanded:2,htmlType:3,iconClass:4,iconOnly:5,iconPlacement:18,id:6,large:7,loading:8,text:9,textOnly:10,type:11,ariaLabel:12,labelledby:13,describedby:14},null,[-1,-1])}}const J={DOWN:"Down",ENTER:"Enter",ESCAPE:"Escape",LEFT:"Left",RIGHT:"Right",SPACE:"Space",TAB:"Tab",UP:"Up",BACKSPACE:"Backspace"};function Te(n){switch(n){case"Down":case"ArrowDown":return J.DOWN;case"Left":case"ArrowLeft":return J.LEFT;case"Right":case"ArrowRight":return J.RIGHT;case"Up":case"ArrowUp":return J.UP;case"Enter":return J.ENTER;case"Esc":case"Escape":return J.ESCAPE;case"Spacebar":case" ":return J.SPACE;case"Tab":return J.TAB;case"Backspace":return J.BACKSPACE;default:return n}}const bl=['[aria-hidden="true"]',"[disabled]","[hidden]",'[type="hidden"]','[tabindex="-1"]'].map(n=>`:not(${n})`).join(""),Cn=["button",'[role="button"]',"a[href]","input","[contentEditable=true]","select","textarea","iframe",'[tabindex="0"]',"audio","video"].map(n=>`${n}${bl}`).join(",");class St{constructor(e){this.tabbables=[],this.element=e,this.innerDocBody=null,this.element.addEventListener("keydown",this.maybeLoopFocus.bind(this))}teardown(){this.element.removeEventListener("keydown",this.maybeLoopFocus),this.innerDocBody&&this.innerDocBody.removeEventListener("keydown",this.maybeLoopFocus.bind(this))}init(){const e=this.element.querySelectorAll(Cn),t=Sn(e);this.firstTabbable=t[0],this.lastTabbable=t[t.length-1]}maybeLoopFocus(e){e.key==="Tab"&&(!e.shiftKey&&e.target===this.lastTabbable&&(e.preventDefault(),this.firstTabbable.focus()),e.shiftKey&&e.target===this.firstTabbable&&(e.preventDefault(),this.lastTabbable.focus()))}updateLastTabbableIfIframeIsTheLastElement(e){this.innerDocBody=e;const t=e.querySelectorAll(Cn),l=Sn(t);l.length===0?this.lastTabbable=e:this.lastTabbable=l[l.length-1],e.addEventListener("keydown",this.maybeLoopFocus.bind(this))}}function Sn(n){return[].filter.call(n,e=>e.style.visibility!=="hidden"&&e.style.display!=="none")}function ve(n){n.querySelector("li > .prom-dropdown__listitem").focus()}function Xe(n){n.children[n.children.length-1].querySelector(".prom-dropdown__listitem").focus()}function dn(){const n=document.querySelector(".prom-dropdown__listitems-menu.open");n&&(n.focus(),gn())}function gn(){const n=document.querySelector(".prom-dropdown__listitems-menu.open");n&&n.classList.remove("open")}function Et(n){n.setAttribute("hidden","hidden")}function En(n){return n&&n.hasAttribute("hidden")}function Ue(){const n=Array.prototype.slice.call(document.querySelectorAll(".prom-dropdown__submenu"));for(let t=0;t<n.length;t++)Et(n[t]);const e=document.querySelectorAll(".prom-dropdown__listitems-menu");for(let t=0;t<e.length;t++)e[t].setAttribute("aria-expanded","false")}function gl(n){if(n.style.right=null,n.style.left=null,n.style.top=null,window.innerWidth>480){const e=n.parentElement.getBoundingClientRect(),t=pl(n,"prom-dropdown__body");window.innerWidth-e.right>=e.width?n.style.left=e.width+"px":n.style.right=e.width+"px",n.style.top=e.top-t.getBoundingClientRect().top-5+"px"}n.removeAttribute("hidden")}function pl(n,e){for(;n.parentElement!==null;)if(n=n.parentElement,n.classList.contains(e))return n;return null}function wl(){const n=document.querySelectorAll(".prom-dropdown__submenu");let e=!1;return n.length>0&&n.forEach(t=>{t.hasAttribute("aria-expanded")&&t.getAttribute("aria-expanded")==="true"&&(e=!0)}),e}function Fn(n){return n.classList.contains("prom-dropdown__listitems-menu")}function yl(n){let e,t;return{c(){e=O("span"),_(e,"class",t=n[0].iconCssClass)},m(l,i){I(l,e,i)},p(l,i){i&1&&t!==(t=l[0].iconCssClass)&&_(e,"class",t)},d(l){l&&F(e)}}}function kl(n){let e,t,l,i;return{c(){e=O("img"),_(e,"alt",""),_(e,"class","prom-dropdown__listitems-icon"),en(e.src,t=n[0].icon)||_(e,"src",t),_(e,"height",l=n[0].iconsize),_(e,"width",i=n[0].iconsize)},m(o,r){I(o,e,r)},p(o,r){r&1&&!en(e.src,t=o[0].icon)&&_(e,"src",t),r&1&&l!==(l=o[0].iconsize)&&_(e,"height",l),r&1&&i!==(i=o[0].iconsize)&&_(e,"width",i)},d(o){o&&F(e)}}}function In(n){let e;return{c(){e=$("…")},m(t,l){I(t,e,l)},d(t){t&&F(e)}}}function Tl(n){let e,t,l,i=n[0].label+"",o,r,a,u,s,c;function f(p,E){if(p[0].icon)return kl;if(p[0].iconCssClass)return yl}let d=f(n),m=d&&d(n),h=n[0].ellipsis&&In();return{c(){e=O("a"),m&&m.c(),t=H(),l=O("span"),o=$(i),r=H(),h&&h.c(),_(l,"class","prom-dropdown__listitems-text"),_(e,"class","prom-dropdown__listitem prom-dropdown__listitem-link"),_(e,"href",a=n[0].url),_(e,"tabindex","-1"),_(e,"target",u=n[0].target?n[0].target:"mainmenu")},m(p,E){I(p,e,E),m&&m.m(e,null),v(e,t),v(e,l),v(l,o),v(l,r),h&&h.m(l,null),s||(c=[V(e,"click",n[2]),V(e,"mouseenter",n[3]),V(e,"mouseleave",n[4])],s=!0)},p(p,[E]){d===(d=f(p))&&m?m.p(p,E):(m&&m.d(1),m=d&&d(p),m&&(m.c(),m.m(e,t))),E&1&&i!==(i=p[0].label+"")&&ue(o,i),p[0].ellipsis?h||(h=In(),h.c(),h.m(l,null)):h&&(h.d(1),h=null),E&1&&a!==(a=p[0].url)&&_(e,"href",a),E&1&&u!==(u=p[0].target?p[0].target:"mainmenu")&&_(e,"target",u)},i:me,o:me,d(p){p&&F(e),m&&m.d(),h&&h.d(),s=!1,_e(c)}}}function Cl(n,e,t){const l=ye();let{option:i=null}=e;function o(u){l("dropdownClose",u),i&&i.value&&l("click",{data:i})}const r=u=>l("mouseenter",{event:u,data:i}),a=u=>l("mouseleave",{event:u,data:i});return n.$$set=u=>{"option"in u&&t(0,i=u.option)},[i,l,o,r,a]}class Sl extends te{constructor(e){super(),ne(this,e,Cl,Tl,ee,{option:0})}}function El(n){let e,t;return{c(){e=O("span"),_(e,"class",t=n[3].iconCssClass)},m(l,i){I(l,e,i)},p(l,i){i&8&&t!==(t=l[3].iconCssClass)&&_(e,"class",t)},d(l){l&&F(e)}}}function Fl(n){let e,t,l,i;return{c(){e=O("img"),_(e,"alt",""),_(e,"class","prom-dropdown__listitems-icon"),en(e.src,t=n[3].icon)||_(e,"src",t),_(e,"height",l=n[3].iconsize),_(e,"width",i=n[3].iconsize)},m(o,r){I(o,e,r)},p(o,r){r&8&&!en(e.src,t=o[3].icon)&&_(e,"src",t),r&8&&l!==(l=o[3].iconsize)&&_(e,"height",l),r&8&&i!==(i=o[3].iconsize)&&_(e,"width",i)},d(o){o&&F(e)}}}function Pn(n){let e;return{c(){e=$("…")},m(t,l){I(t,e,l)},d(t){t&&F(e)}}}function Il(n){let e,t,l,i=n[3].label+"",o,r,a,u,s,c,f,d;function m(U,g){if(U[3].icon)return Fl;if(U[3].iconCssClass)return El}let h=m(n),p=h&&h(n),E=n[3].ellipsis&&Pn();return{c(){e=O("button"),p&&p.c(),t=H(),l=O("span"),o=$(i),r=H(),E&&E.c(),a=H(),u=O("span"),_(l,"class","prom-dropdown__listitems-text"),_(u,"class","prom-dropdown__listitems-menuicon"),_(e,"class",s="prom-dropdown__listitem prom-dropdown__listitem-action "+n[0]),_(e,"tabindex","-1"),_(e,"type","button"),_(e,"aria-haspopup",n[2]),_(e,"aria-expanded",c=n[2]?n[1]:null)},m(U,g){I(U,e,g),p&&p.m(e,null),v(e,t),v(e,l),v(l,o),v(l,r),E&&E.m(l,null),v(e,a),v(e,u),f||(d=[V(e,"click",n[5]),V(e,"mouseenter",n[6]),V(e,"mouseleave",n[7])],f=!0)},p(U,[g]){h===(h=m(U))&&p?p.p(U,g):(p&&p.d(1),p=h&&h(U),p&&(p.c(),p.m(e,t))),g&8&&i!==(i=U[3].label+"")&&ue(o,i),U[3].ellipsis?E||(E=Pn(),E.c(),E.m(l,null)):E&&(E.d(1),E=null),g&1&&s!==(s="prom-dropdown__listitem prom-dropdown__listitem-action "+U[0])&&_(e,"class",s),g&4&&_(e,"aria-haspopup",U[2]),g&6&&c!==(c=U[2]?U[1]:null)&&_(e,"aria-expanded",c)},i:me,o:me,d(U){U&&F(e),p&&p.d(),E&&E.d(),f=!1,_e(d)}}}function Pl(n,e,t){const l=ye();let{cssClass:i=""}=e,{expanded:o=!1}=e,{hasPopup:r=!1}=e,{option:a=null}=e;const u=f=>l("click",{event:f,data:a}),s=f=>l("mouseenter",{event:f,data:a}),c=f=>l("mouseleave",{event:f,data:a});return n.$$set=f=>{"cssClass"in f&&t(0,i=f.cssClass),"expanded"in f&&t(1,o=f.expanded),"hasPopup"in f&&t(2,r=f.hasPopup),"option"in f&&t(3,a=f.option)},[i,o,r,a,l,u,s,c]}class Ft extends te{constructor(e){super(),ne(this,e,Pl,Il,ee,{cssClass:0,expanded:1,hasPopup:2,option:3})}}const It=window.navigator.userAgent;function mn(){return!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(It)}function Ol(){return!!It.match(/(CrOS)/g)}function Pt(n){const t=n.parentElement.parentElement.parentElement.children;if(t.length===0)return;const l=[];for(let i=0;i<t.length;i++){const o=t[i];o.nodeName.toLowerCase()==="ul"&&l.push(o)}return l}function Ll(n){const e=Pt(n);e.length<=1&&ve(e[0]);let l=n.parentElement.parentElement.nextElementSibling;l?(l.nodeName.toLowerCase()!=="ul"&&(l=l.nextElementSibling),ve(l)):ve(e[0])}function Al(n){const e=Pt(n);if(e.length<=1)Xe(e[0]);else{let l=n.parentElement.parentElement.previousElementSibling;l?(l.nodeName.toLowerCase()==="h2"&&(l=l.previousElementSibling),l.nodeName.toLowerCase()==="ul"?Xe(l):Xe(e[e.length-1])):Xe(e[e.length-1])}}function vl(n){const t=n.parentElement.previousElementSibling;return t?(t.querySelector(".prom-dropdown__listitem").focus(),!0):!1}function Ul(n){const t=n.parentElement.nextElementSibling;return t?(t.querySelector(".prom-dropdown__listitem").focus(),!0):!1}function On(n,e,t){const l=n.slice();return l[18]=e[t],l[20]=t,l}function Bl(n){let e,t;return e=new Ft({props:{option:n[0],hasPopup:!1}}),e.$on("click",n[12]),e.$on("mouseenter",n[2]),e.$on("mouseleave",n[3]),{c(){j(e.$$.fragment)},m(l,i){G(e,l,i),t=!0},p(l,i){const o={};i&1&&(o.option=l[0]),e.$set(o)},i(l){t||(y(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){K(e,l)}}}function Rl(n){let e,t,l,i,o;e=new Ft({props:{option:n[0],cssClass:"prom-dropdown__listitems-menu",hasPopup:!0}}),e.$on("click",n[1]),e.$on("mouseenter",n[2]),e.$on("mouseleave",n[3]);let r=Ce(n[0].items),a=[];for(let s=0;s<r.length;s+=1)a[s]=Ln(On(n,r,s));const u=s=>C(a[s],1,1,()=>{a[s]=null});return{c(){j(e.$$.fragment),t=H(),l=O("section"),i=O("section");for(let s=0;s<a.length;s+=1)a[s].c();_(i,"class","prom-dropdown__body"),l.hidden=!0,_(l,"class","prom-dropdown prom-dropdown__submenu")},m(s,c){G(e,s,c),I(s,t,c),I(s,l,c),v(l,i);for(let f=0;f<a.length;f+=1)a[f]&&a[f].m(i,null);o=!0},p(s,c){const f={};if(c&1&&(f.option=s[0]),e.$set(f),c&1){r=Ce(s[0].items);let d;for(d=0;d<r.length;d+=1){const m=On(s,r,d);a[d]?(a[d].p(m,c),y(a[d],1)):(a[d]=Ln(m),a[d].c(),y(a[d],1),a[d].m(i,null))}for(ce(),d=r.length;d<a.length;d+=1)u(d);fe()}},i(s){if(!o){y(e.$$.fragment,s);for(let c=0;c<r.length;c+=1)y(a[c]);o=!0}},o(s){C(e.$$.fragment,s),a=a.filter(Boolean);for(let c=0;c<a.length;c+=1)C(a[c]);o=!1},d(s){s&&(F(t),F(l)),K(e,s),nn(a,s)}}}function Dl(n){let e,t;return e=new Sl({props:{option:n[0]}}),e.$on("click",n[7]),e.$on("dropdownClose",n[8]),e.$on("mouseenter",n[2]),e.$on("mouseleave",n[3]),{c(){j(e.$$.fragment)},m(l,i){G(e,l,i),t=!0},p(l,i){const o={};i&1&&(o.option=l[0]),e.$set(o)},i(l){t||(y(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){K(e,l)}}}function Ln(n){let e,t;return e=new Lt({props:{index:n[20],list:n[18],isSubmenu:"true"}}),e.$on("click",n[9]),e.$on("dropdownClose",n[10]),e.$on("keyup",n[11]),{c(){j(e.$$.fragment)},m(l,i){G(e,l,i),t=!0},p(l,i){const o={};i&1&&(o.list=l[18]),e.$set(o)},i(l){t||(y(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){K(e,l)}}}function Nl(n){let e,t,l,i,o,r,a;const u=[Dl,Rl,Bl],s=[];function c(f,d){return f[0].link?0:f[0].items?1:2}return t=c(n),l=s[t]=u[t](n),{c(){e=O("li"),l.c(),_(e,"class",i="prom-dropdown__listitems "+(n[0].cssClass||"")),_(e,"role","menuitem"),le(e,"prom-dropdown__listitems--divider",n[0].divider),le(e,"prom-dropdown__listitems--menu",n[0].items)},m(f,d){I(f,e,d),s[t].m(e,null),o=!0,r||(a=[V(e,"keyup",n[5]),V(e,"keydown",n[4])],r=!0)},p(f,[d]){let m=t;t=c(f),t===m?s[t].p(f,d):(ce(),C(s[m],1,1,()=>{s[m]=null}),fe(),l=s[t],l?l.p(f,d):(l=s[t]=u[t](f),l.c()),y(l,1),l.m(e,null)),(!o||d&1&&i!==(i="prom-dropdown__listitems "+(f[0].cssClass||"")))&&_(e,"class",i),(!o||d&1)&&le(e,"prom-dropdown__listitems--divider",f[0].divider),(!o||d&1)&&le(e,"prom-dropdown__listitems--menu",f[0].items)},i(f){o||(y(l),o=!0)},o(f){C(l),o=!1},d(f){f&&F(e),s[t].d(),r=!1,_e(a)}}}function Ml(n,e,t){let{isSubmenu:l=!1}=e,{option:i=null}=e;function o({detail:{event:T}}){const b=T.currentTarget,w=T.currentTarget.nextElementSibling;h(b,w,!1)}function r({detail:{event:T}}){if(mn())return;const b=T.currentTarget,w=T.currentTarget.nextElementSibling;Fn(b)?d(b,w,!0):l||Ue()}function a({detail:{event:T}}){if(mn())return;const b=T.currentTarget.nextElementSibling;!l&&b&&!b.contains(T.relatedTarget)&&m(b,!1)}function u(T){Ul(T)||Ll(T)}function s(T){vl(T)||Al(T)}function c(T){const{key:b}=T,w=T.target;switch(Te(b)){case J.UP:T.preventDefault(),s(w);break;case J.DOWN:T.preventDefault(),u(w);break;default:return}}function f(T){const{key:b}=T,w=T.target,P=T.target.nextElementSibling;switch(Te(b)){case J.LEFT:Ue(),dn();break;case J.RIGHT:Fn(w)&&h(w,P,!1);break;default:return}}function d(T,b,w){Ue(),gn(),gl(b),T.classList.add("open"),T.setAttribute("aria-expanded",!0),w||ve(b)}function m(T,b){if(!En(T)){Et(T);const w=document.querySelector(".prom-dropdown__listitems-menu.open");w.setAttribute("aria-expanded",!1),w.classList.remove("open"),b||dn()}}function h(T,b,w){En(b)?d(T,b,w):m(b,!0)}function p(T){z.call(this,n,T)}function E(T){z.call(this,n,T)}function U(T){z.call(this,n,T)}function g(T){z.call(this,n,T)}function D(T){z.call(this,n,T)}function M(T){z.call(this,n,T)}return n.$$set=T=>{"isSubmenu"in T&&t(6,l=T.isSubmenu),"option"in T&&t(0,i=T.option)},[i,o,r,a,c,f,l,p,E,U,g,D,M]}class Hl extends te{constructor(e){super(),ne(this,e,Ml,Nl,ee,{isSubmenu:6,option:0})}}function Ot(){const e=(window.crypto||window.msCrypto).getRandomValues(new Uint8Array(16));e[6]=e[6]&15|64,e[8]=e[8]&63|128;let t=0;return"xxxx-xx-xx-xx-xxxxxx".replace(/x/g,()=>{const l=("0"+e[t].toString(16)).slice(-2);return t+=1,l})}function An(n,e,t){const l=n.slice();return l[8]=e[t],l}function vn(n){let e,t=n[3].label+"",l,i;return{c(){e=O("h2"),l=$(t),_(e,"id",i=""+(n[0]+(n[1]+1))),_(e,"class","prom-dropdown__listheader")},m(o,r){I(o,e,r),v(e,l)},p(o,r){r&8&&t!==(t=o[3].label+"")&&ue(l,t),r&3&&i!==(i=""+(o[0]+(o[1]+1)))&&_(e,"id",i)},d(o){o&&F(e)}}}function Un(n){let e,t;return e=new Hl({props:{isSubmenu:n[2],option:n[8]}}),e.$on("dropdownClose",n[5]),e.$on("click",n[6]),{c(){j(e.$$.fragment)},m(l,i){G(e,l,i),t=!0},p(l,i){const o={};i&4&&(o.isSubmenu=l[2]),i&8&&(o.option=l[8]),e.$set(o)},i(l){t||(y(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){K(e,l)}}}function ql(n){let e,t,l,i,o,r,a=n[3].label&&vn(n),u=Ce(n[3].options),s=[];for(let f=0;f<u.length;f+=1)s[f]=Un(An(n,u,f));const c=f=>C(s[f],1,1,()=>{s[f]=null});return{c(){a&&a.c(),e=H(),t=O("ul");for(let f=0;f<s.length;f+=1)s[f].c();_(t,"aria-labelledby",l=n[3].label?n[0]+(n[1]+1):null),_(t,"role","menu")},m(f,d){a&&a.m(f,d),I(f,e,d),I(f,t,d);for(let m=0;m<s.length;m+=1)s[m]&&s[m].m(t,null);i=!0,o||(r=V(t,"keyup",n[7]),o=!0)},p(f,[d]){if(f[3].label?a?a.p(f,d):(a=vn(f),a.c(),a.m(e.parentNode,e)):a&&(a.d(1),a=null),d&12){u=Ce(f[3].options);let m;for(m=0;m<u.length;m+=1){const h=An(f,u,m);s[m]?(s[m].p(h,d),y(s[m],1)):(s[m]=Un(h),s[m].c(),y(s[m],1),s[m].m(t,null))}for(ce(),m=u.length;m<s.length;m+=1)c(m);fe()}(!i||d&11&&l!==(l=f[3].label?f[0]+(f[1]+1):null))&&_(t,"aria-labelledby",l)},i(f){if(!i){for(let d=0;d<u.length;d+=1)y(s[d]);i=!0}},o(f){s=s.filter(Boolean);for(let d=0;d<s.length;d+=1)C(s[d]);i=!1},d(f){f&&(F(e),F(t)),a&&a.d(f),nn(s,f),o=!1,r()}}}function Vl(n,e,t){const l=ye();let{id:i=Ot()}=e,{index:o=0}=e,{isSubmenu:r=!1}=e,{list:a=null}=e;function u(f){z.call(this,n,f)}function s(f){z.call(this,n,f)}const c=f=>l("keyup",f);return n.$$set=f=>{"id"in f&&t(0,i=f.id),"index"in f&&t(1,o=f.index),"isSubmenu"in f&&t(2,r=f.isSubmenu),"list"in f&&t(3,a=f.list)},[i,o,r,a,l,u,s,c]}let Lt=class extends te{constructor(e){super(),ne(this,e,Vl,ql,ee,{id:0,index:1,isSubmenu:2,list:3})}};const zl=n=>({}),Bn=n=>({}),Gl=n=>({}),Rn=n=>({});function Dn(n,e,t){const l=n.slice();return l[20]=e[t],l[22]=t,l}const Kl=n=>({}),Nn=n=>({});function jl(n){let e;const t=n[16].body,l=ie(t,n,n[15],Rn);return{c(){l&&l.c()},m(i,o){l&&l.m(i,o),e=!0},p(i,o){l&&l.p&&(!e||o&32768)&&re(l,t,i,i[15],e?oe(t,i[15],o,Gl):se(i[15]),Rn)},i(i){e||(y(l,i),e=!0)},o(i){C(l,i),e=!1},d(i){l&&l.d(i)}}}function Wl(n){let e,t,l=Ce(n[1]),i=[];for(let r=0;r<l.length;r+=1)i[r]=Mn(Dn(n,l,r));const o=r=>C(i[r],1,1,()=>{i[r]=null});return{c(){for(let r=0;r<i.length;r+=1)i[r].c();e=we()},m(r,a){for(let u=0;u<i.length;u+=1)i[u]&&i[u].m(r,a);I(r,e,a),t=!0},p(r,a){if(a&771){l=Ce(r[1]);let u;for(u=0;u<l.length;u+=1){const s=Dn(r,l,u);i[u]?(i[u].p(s,a),y(i[u],1)):(i[u]=Mn(s),i[u].c(),y(i[u],1),i[u].m(e.parentNode,e))}for(ce(),u=l.length;u<i.length;u+=1)o(u);fe()}},i(r){if(!t){for(let a=0;a<l.length;a+=1)y(i[a]);t=!0}},o(r){i=i.filter(Boolean);for(let a=0;a<i.length;a+=1)C(i[a]);t=!1},d(r){r&&F(e),nn(i,r)}}}function Mn(n){let e,t;return e=new Lt({props:{id:n[0],index:n[22],list:n[20]}}),e.$on("click",n[9]),e.$on("dropdownClose",n[17]),e.$on("keyup",n[8]),{c(){j(e.$$.fragment)},m(l,i){G(e,l,i),t=!0},p(l,i){const o={};i&1&&(o.id=l[0]),i&2&&(o.list=l[20]),e.$set(o)},i(l){t||(y(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){K(e,l)}}}function Jl(n){let e,t,l,i,o,r,a,u,s,c,f,d,m,h,p,E;const U=n[16].header,g=ie(U,n,n[15],Nn),D=[Wl,jl],M=[];function T(P,N){return P[1].length?0:1}s=T(n),c=M[s]=D[s](n);const b=n[16].footer,w=ie(b,n,n[15],Bn);return{c(){e=O("section"),t=O("section"),l=H(),i=O("header"),g&&g.c(),o=H(),r=O("section"),a=O("section"),u=H(),c.c(),f=H(),d=O("footer"),w&&w.c(),_(t,"class",n[5]),_(i,"class","prom-dropdown__header"),_(a,"class","prom-dropdown__bodygradient-top"),_(r,"class","prom-dropdown__body"),_(d,"class","prom-dropdown__footer"),_(e,"class",m="prom-dropdown "+n[3]),e.hidden=n[4]},m(P,N){I(P,e,N),v(e,t),v(e,l),v(e,i),g&&g.m(i,null),v(e,o),v(e,r),v(r,a),v(r,u),M[s].m(r,null),v(e,f),v(e,d),w&&w.m(d,null),n[18](e),h=!0,p||(E=[V(window,"click",n[6]),V(window,"keyup",n[7])],p=!0)},p(P,[N]){(!h||N&32)&&_(t,"class",P[5]),g&&g.p&&(!h||N&32768)&&re(g,U,P,P[15],h?oe(U,P[15],N,Kl):se(P[15]),Nn);let Z=s;s=T(P),s===Z?M[s].p(P,N):(ce(),C(M[Z],1,1,()=>{M[Z]=null}),fe(),c=M[s],c?c.p(P,N):(c=M[s]=D[s](P),c.c()),y(c,1),c.m(r,null)),w&&w.p&&(!h||N&32768)&&re(w,b,P,P[15],h?oe(b,P[15],N,zl):se(P[15]),Bn),(!h||N&8&&m!==(m="prom-dropdown "+P[3]))&&_(e,"class",m),(!h||N&16)&&(e.hidden=P[4])},i(P){h||(y(g,P),y(c),y(w,P),h=!0)},o(P){C(g,P),C(c),C(w,P),h=!1},d(P){P&&F(e),g&&g.d(P),M[s].d(),w&&w.d(P),n[18](null),p=!1,_e(E)}}}function Ql(n,e,t){let l,i,o,{$$slots:r={},$$scope:a}=e;const u=ye();let s,c,{arrow:f=!0}=e,{arrowPosition:d="top"}=e,{expanded:m=!1}=e,{id:h="prom-dropdown__list"}=e,{items:p=[]}=e,{responsive:E=!0}=e;function U(w){s.contains(w.target)||u("dropdownClose",w)}function g(w){const{key:P}=w;switch(Te(P)){case J.ESCAPE:m&&D(w);break;case J.TAB:u("dropdownClose",w);break;default:return}}function D(w){const{key:P}=w;switch(Te(P)){case J.ESCAPE:wl()?(Ue(),dn(),w.stopPropagation()):u("dropdownClose",w);break;case J.UP:break;case J.DOWN:break;default:return}}function M(w){u("selectedOption",{event:w,data:w.detail.data.value}),u("dropdownClose",w)}bn(()=>{t(14,c=new St(s))});function T(w){z.call(this,n,w)}function b(w){be[w?"unshift":"push"](()=>{s=w,t(2,s)})}return n.$$set=w=>{"arrow"in w&&t(10,f=w.arrow),"arrowPosition"in w&&t(11,d=w.arrowPosition),"expanded"in w&&t(12,m=w.expanded),"id"in w&&t(0,h=w.id),"items"in w&&t(1,p=w.items),"responsive"in w&&t(13,E=w.responsive),"$$scope"in w&&t(15,a=w.$$scope)},n.$$.update=()=>{n.$$.dirty&3072&&t(5,l=f?`arrow-${d}`:""),n.$$.dirty&4096&&t(4,i=m?"":"hidden"),n.$$.dirty&8192&&t(3,o=E?"":"prom-dropdown--not-responsive"),n.$$.dirty&20482&&(p||m!==null)&&setTimeout(()=>{c.init()},0)},[h,p,s,o,i,l,U,g,D,M,f,d,m,E,c,a,r,T,b]}class Xl extends te{constructor(e){super(),ne(this,e,Ql,Jl,ee,{arrow:10,arrowPosition:11,expanded:12,id:0,items:1,responsive:13})}}const Yl=n=>({}),Hn=n=>({}),Zl=n=>({}),qn=n=>({});function xl(n){let e,t;const l=n[23].header,i=ie(l,n,n[25],Hn);return{c(){e=O("section"),i&&i.c(),_(e,"slot","header")},m(o,r){I(o,e,r),i&&i.m(e,null),t=!0},p(o,r){i&&i.p&&(!t||r&33554432)&&re(i,l,o,o[25],t?oe(l,o[25],r,Yl):se(o[25]),Hn)},i(o){t||(y(i,o),t=!0)},o(o){C(i,o),t=!1},d(o){o&&F(e),i&&i.d(o)}}}function $l(n){let e,t;const l=n[23].footer,i=ie(l,n,n[25],qn);return{c(){e=O("section"),i&&i.c(),_(e,"slot","footer")},m(o,r){I(o,e,r),i&&i.m(e,null),t=!0},p(o,r){i&&i.p&&(!t||r&33554432)&&re(i,l,o,o[25],t?oe(l,o[25],r,Zl):se(o[25]),qn)},i(o){t||(y(i,o),t=!0)},o(o){C(i,o),t=!1},d(o){o&&F(e),i&&i.d(o)}}}function ei(n){let e,t,l,i,o,r,a,u,s,c,f;return o=new hl({props:{iconClass:n[15],id:n[5]+"-button",iconOnly:n[3],iconPlacement:n[4],expanded:n[0],large:n[7],text:n[10],textOnly:n[11],type:n[12],disabled:n[2],ariaLabel:n[13],haspopup:!0,htmlType:"button"}}),o.$on("click",n[21]),o.$on("keyup",n[20]),o.$on("keydown",n[19]),a=new Xl({props:{arrow:n[1],arrowPosition:n[16],expanded:n[0],items:n[6],responsive:n[9],id:n[5]+"-list",$$slots:{footer:[$l],header:[xl]},$$scope:{ctx:n}}}),a.$on("dropdownClose",n[17]),a.$on("submenuClose",n[18]),a.$on("selectedOption",n[24]),{c(){e=O("section"),l=H(),i=O("section"),j(o.$$.fragment),r=H(),j(a.$$.fragment),_(e,"class",t="prom-button-dropdown-overlay "+n[14]),_(i,"class",u="prom-button-dropdown prom-dropdown__"+n[8]),_(i,"id",n[5])},m(d,m){I(d,e,m),I(d,l,m),I(d,i,m),G(o,i,null),v(i,r),G(a,i,null),s=!0,c||(f=V(e,"click",n[21]),c=!0)},p(d,[m]){(!s||m&16384&&t!==(t="prom-button-dropdown-overlay "+d[14]))&&_(e,"class",t);const h={};m&32768&&(h.iconClass=d[15]),m&32&&(h.id=d[5]+"-button"),m&8&&(h.iconOnly=d[3]),m&16&&(h.iconPlacement=d[4]),m&1&&(h.expanded=d[0]),m&128&&(h.large=d[7]),m&1024&&(h.text=d[10]),m&2048&&(h.textOnly=d[11]),m&4096&&(h.type=d[12]),m&4&&(h.disabled=d[2]),m&8192&&(h.ariaLabel=d[13]),o.$set(h);const p={};m&2&&(p.arrow=d[1]),m&65536&&(p.arrowPosition=d[16]),m&1&&(p.expanded=d[0]),m&64&&(p.items=d[6]),m&512&&(p.responsive=d[9]),m&32&&(p.id=d[5]+"-list"),m&33554432&&(p.$$scope={dirty:m,ctx:d}),a.$set(p),(!s||m&256&&u!==(u="prom-button-dropdown prom-dropdown__"+d[8]))&&_(i,"class",u),(!s||m&32)&&_(i,"id",d[5])},i(d){s||(y(o.$$.fragment,d),y(a.$$.fragment,d),s=!0)},o(d){C(o.$$.fragment,d),C(a.$$.fragment,d),s=!1},d(d){d&&(F(e),F(l),F(i)),K(o),K(a),c=!1,f()}}}function ni(n,e,t){let l,i,o,{$$slots:r={},$$scope:a}=e;const u=ye();let{arrow:s=!0}=e,{iconClass:c="prom-button-dropdown-icon"}=e,{expanded:f=!1}=e,{disabled:d=!1}=e,{iconOnly:m=!1}=e,{iconPlacement:h="start"}=e,{id:p="button-dropdown"}=e,{items:E=[]}=e,{large:U=!1}=e,{position:g="down"}=e,{responsive:D=!0}=e,{text:M="ChangeMe"}=e,{textOnly:T=!0}=e,{type:b="primary"}=e,{ariaLabel:w=void 0}=e;function P({detail:L}){const ae=document.querySelector("#"+p+"-button");if(ae&&ae.contains(L.target))return;const{key:A}=L;switch(t(0,f=!1),Te(A)){case J.ESCAPE:R();break;default:return}}function N(L){L.stopPropagation(),Ue()}function Z(L){const{key:ae}=L;switch(Te(ae)){case J.DOWN:{L.preventDefault(),t(0,f=!0);const A=document.querySelector("#"+p);setTimeout(()=>ve(A),0);break}case J.TAB:Ue(),gn(),t(0,f=!1);break;case J.ENTER:case J.SPACE:L.preventDefault(),Q(L,!0);break;default:return}}function B(L){const{key:ae}=L;switch(Te(ae)){case J.ESCAPE:t(0,f=!1),R();break;default:return}}function Q(L,ae=!1){if(L.preventDefault(),u("beforeToggle",L),t(0,f=!f),E.length&&ae){const A=document.querySelector("#"+p);setTimeout(()=>ve(A),0)}}function R(){document.querySelector("#"+p+"-button").focus()}function q(L){z.call(this,n,L)}return n.$$set=L=>{"arrow"in L&&t(1,s=L.arrow),"iconClass"in L&&t(22,c=L.iconClass),"expanded"in L&&t(0,f=L.expanded),"disabled"in L&&t(2,d=L.disabled),"iconOnly"in L&&t(3,m=L.iconOnly),"iconPlacement"in L&&t(4,h=L.iconPlacement),"id"in L&&t(5,p=L.id),"items"in L&&t(6,E=L.items),"large"in L&&t(7,U=L.large),"position"in L&&t(8,g=L.position),"responsive"in L&&t(9,D=L.responsive),"text"in L&&t(10,M=L.text),"textOnly"in L&&t(11,T=L.textOnly),"type"in L&&t(12,b=L.type),"ariaLabel"in L&&t(13,w=L.ariaLabel),"$$scope"in L&&t(25,a=L.$$scope)},n.$$.update=()=>{n.$$.dirty&256&&t(16,l=g==="up"?"bottom":"top"),n.$$.dirty&4196352&&t(15,i=T?"":c),n.$$.dirty&513&&t(14,o=D&&f?"prom-button-dropdown-overlay--visible":"")},[f,s,d,m,h,p,E,U,g,D,M,T,b,w,o,i,l,P,N,Z,B,Q,c,r,q,a]}class ti extends te{constructor(e){super(),ne(this,e,ni,ei,ee,{arrow:1,iconClass:22,expanded:0,disabled:2,iconOnly:3,iconPlacement:4,id:5,items:6,large:7,position:8,responsive:9,text:10,textOnly:11,type:12,ariaLabel:13})}}function li(n,e){const{cloudFileIcons:t}=he();let l=t[n];return l||(l=e),l}class ii extends Error{constructor(e,t){super(e),this.response=t}}const oi=Object.freeze({ok:200,created:201,accepted:202,nonAuthoritativeInformation:203,noContent:204,resetContent:205,partialContent:206,multipleChoices:300,movedPermanently:301,found:302,seeOther:303,notModified:304,useProxy:305,temporaryRedirect:307,badRequest:400,unauthorized:401,paymentRequired:402,forbidden:403,notFound:404,methodNotAllowed:405,notAcceptable:406,proxyAuthenticationRequired:407,requestTimeout:408,conflict:409,gone:410,internalServerError:500,notImplemented:501,badGateway:502,serviceUnavailable:503,gatewayTimeout:504,httpVersionNotSupported:505});function Je(n,e,t={}){return new Promise((l,i)=>{fetch(n,At("POST",JSON.stringify(e),t)).then(wn).then(l).catch(i)})}function pn(n,e={}){return new Promise((t,l)=>{fetch(n,At("GET",void 0,e)).then(wn).then(t).catch(l)})}function wn(n){if(!n.ok)throw new ii(n.statusText,n);return n.status===oi.noContent?new Promise(e=>e(void 0)):n.clone().json().catch(()=>n.text())}function At(n,e,t){return{method:n,mode:t.mode!==void 0?t.mode:"cors",cache:t.cache!==void 0?t.cache:"default",credentials:t.credentials!==void 0?t.credentials:"same-origin",headers:Object.assign({"Content-Type":"application/json; charset=utf-8"},t.headers),body:e}}const ri=pn;function si(n){const{recentCloudFiles:e}=he(),t=[];ci(n).then(l=>{l.forEach(i=>{t.push(i)}),e[n]=t,qe({recentCloudFiles:e})})}const Fe={addCloudFilesToCourseFolder:"/restapi/personal/courses/{courseId}/folders/{folderId}/file/cloud/v1",addFileRepoFilesToCourseFolder:"/restapi/personal/courses/{courseId}/folders/{folderId}/file/filerepo/v1",getRecentCloudElements:"/restapi/personal/cloudproxy/recentfiles/{cloudService}/{filesCount}/{includeFolders}/{includeSharedFiles}",getPlannerFilesUploadStatus:n=>`/RestApi/planner/element/filesUploadStatus?courseId=${n}`},vt={quickAdd:"content-area-quick-add-menu"},_n={quickAddButton:`#${vt.quickAdd} > .prom-button-dropdown > button.prom-button`,modal:".prom-modal2__dialog"},Ye={itslItem:"contentarea-action-list__itslearning-element",showAll:"quick-add__show-all"},pe={assignment:"icons/assignment.svg",googledrive:"icons/xp/googledrive.svg",googledriveDefault:"icons/xp/google_file.svg",onedrive:"icons/microsoft-onedrive-2019.svg",office365:"icons/office365.svg",computer:"icons/computer.svg",device:"icons/device.svg",task:"icons/task.svg",test:"icons/test.svg"},Vn={AssignmentApp:pe.assignment,Assignment:pe.assignment,CustomActivity:pe.task,TestApp:pe.test,Test:pe.test},ui=568,de={none:0,inProgress:1,success:2,error:3};function ai(n,e,t){const{antiForgeryHeaderSettings:l,kpiUrl:i}=he(),o={[l.headerName]:l.headerValue};return Je(i,{measureSection:n,measurement:e,measureContext:t},{headers:o})}function ci(n){const{cloudServiceSettings:e,antiForgeryHeaderSettings:t}=he(),l={[t.headerName]:t.headerValue},i=e[n].recentCloudElementsSettings,o=Fe.getRecentCloudElements.replace("{cloudService}",n).replace("{filesCount}",i.filesCount).replace("{includeSharedFiles}",i.includeSharedFiles).replace("{includeFolders}",i.includeFolders);return ri(o,{headers:l}).then(r=>r)}function fi(){const{cloudServiceSettings:n}=he();Object.keys(n).forEach(t=>{const l=n[t];l.showCloudService&&l.recentCloudElementsSettings.enabled&&si(t)})}function di(n){return pn(Fe.getPlannerFilesUploadStatus(n)).then(e=>e)}const{window:Ze}=wt;function mi(n){let e,t,l,i,o,r,a,u,s;function c(d){n[21](d)}let f={text:n[3].i18n.add,iconOnly:n[1],items:n[6],textOnly:!n[1]};return n[0]!==void 0&&(f.expanded=n[0]),o=new ti({props:f}),be.push(()=>je(o,"expanded",c)),o.$on("selectedOption",n[7]),{c(){e=O("input"),l=H(),i=O("div"),j(o.$$.fragment),_(e,"type","file"),e.hidden=!0,e.multiple=!0,_(e,"aria-label",t=n[3].i18n.selectFileLabel),_(i,"class","contentarea-action-list"),_(i,"id",n[2])},m(d,m){I(d,e,m),n[20](e),I(d,l,m),I(d,i,m),G(o,i,null),n[22](i),a=!0,u||(s=[V(Ze,"click",n[11]),V(Ze,"blur",n[10]),V(Ze,"beforeunload",n[9]),V(Ze,"resize",n[12]),V(e,"change",n[8])],u=!0)},p(d,[m]){(!a||m&8&&t!==(t=d[3].i18n.selectFileLabel))&&_(e,"aria-label",t);const h={};m&8&&(h.text=d[3].i18n.add),m&2&&(h.iconOnly=d[1]),m&64&&(h.items=d[6]),m&2&&(h.textOnly=!d[1]),!r&&m&1&&(r=!0,h.expanded=d[0],Ke(()=>r=!1)),o.$set(h),(!a||m&4)&&_(i,"id",d[2])},i(d){a||(y(o.$$.fragment,d),a=!0)},o(d){C(o.$$.fragment,d),a=!1},d(d){d&&(F(e),F(l),F(i)),n[20](null),K(o),n[22](null),u=!1,_e(s)}}}function _i(n,e,t){let l,i,o,r,a,u,s;ze(n,Se,A=>t(3,s=A));let{dropDownExpanded:c=!1}=e,{iconOnly:f=!1}=e,{quickAddId:d=vt.quickAdd}=e,{addViewCallback:m=()=>{}}=e,{kpiCallback:h=()=>{}}=e,p,E;bn(()=>Q());function U(A,W,X,x,k){return[{options:[...x,A,W,X,k].filter(Ie=>!!Ie)}]}function g(A){const{menuOptionItems:W,staticContentPath:X}=A;return W.map(x=>({icon:Vn[x.value]?X+Vn[x.value]:x.icon,iconsize:24,label:x.title,link:!0,url:x.url,cssClass:Ye.itslItem}))}function D(A){const{cloudServiceSettings:W,recentCloudFiles:X,staticContentPath:x,i18n:k}=A;if(W.GoogleDrive.showCloudService){const ge=[{options:[{label:k.selectFileLabel,link:!1,value:{source:"GoogleDrive"},divider:!0,ellipsis:!0}]}];if(W.GoogleDrive.recentCloudElementsSettings.enabled&&X.GoogleDrive&&X.GoogleDrive.length>0){const Ie=[];ge.push({label:k.recent,options:Ie}),X.GoogleDrive.forEach(De=>{Ie.push({icon:li(De.mimeType,x+pe.googledriveDefault),iconsize:24,value:{source:"RecentGoogleDrive",elementId:De.id,cloudProvider:"GoogleDrive"},label:De.name,link:!1})})}return{icon:x+pe.googledrive,iconsize:24,label:k.googleDrive,link:!1,value:{source:"GoogleDrive"},items:ge}}}function M(A){const{cloudServiceSettings:W,staticContentPath:X,i18n:x,showOffice365InsteadOfOneDrive:k}=A;if(W.OneDrive.showCloudService){const ge={icon:X+pe.onedrive,iconsize:24,label:x.oneDrive,link:!1,value:{source:"OneDrive"}};return k&&(ge.icon=X+pe.office365,ge.label=x.office365),ge}}function T(A){const{staticContentPath:W,i18n:X}=A;if(!Ol()){const x=mn();return{icon:W+(x?pe.device:pe.computer),iconsize:24,label:x?X.device:X.computer,link:!1,value:{source:"Computer"}}}return null}function b(A){return{label:A.i18n.showAll,link:!0,url:A.showAllUrl,cssClass:Ye.showAll}}function w(A){const W=A.detail.data;W.source==="Computer"?p.click():m(W),h(W.source)}function P(){const A=[];for(let W=0;W<p.files.length;W++)A.push(p.files[W]);A&&A.length>0&&(m({source:"Computer",files:A}),t(4,p.value=null,p))}function N(A){s.filesStatus.some(X=>X.inProgress)&&(A.preventDefault(),A.returnValue="")}function Z(){t(0,c=!1)}function B(A){if(!E.contains(A.target))return;const W=E.querySelector("."+Ye.showAll),X=document.querySelector(_n.quickAddButton);X===A.target&&c?(h("QuickAdd"),fi()):A.target===W||W.contains(A.target)?(h("ShowAll"),X.focus()):E.querySelectorAll("."+Ye.itslItem).forEach(k=>{(A.target===k||k.contains(A.target))&&(h("ItslearningElement"),X.focus())})}function Q(){t(1,f=window.innerWidth<ui)}function R(){Q()}function q(A){be[A?"unshift":"push"](()=>{p=A,t(4,p)})}function L(A){c=A,t(0,c)}function ae(A){be[A?"unshift":"push"](()=>{E=A,t(5,E)})}return n.$$set=A=>{"dropDownExpanded"in A&&t(0,c=A.dropDownExpanded),"iconOnly"in A&&t(1,f=A.iconOnly),"quickAddId"in A&&t(2,d=A.quickAddId),"addViewCallback"in A&&t(13,m=A.addViewCallback),"kpiCallback"in A&&t(14,h=A.kpiCallback)},n.$$.update=()=>{n.$$.dirty&8&&t(16,l=g(s)),n.$$.dirty&8&&t(19,i=D(s)),n.$$.dirty&8&&t(18,o=M(s)),n.$$.dirty&8&&t(17,r=T(s)),n.$$.dirty&8&&t(15,a=b(s)),n.$$.dirty&1015808&&t(6,u=U(i,o,r,l,a))},[c,f,d,s,p,E,u,w,P,N,Z,B,R,m,h,a,l,r,o,i,q,L,ae]}class hi extends te{constructor(e){super(),ne(this,e,_i,mi,ee,{dropDownExpanded:0,iconOnly:1,quickAddId:2,addViewCallback:13,kpiCallback:14})}}function zn(n){let e,t,l,i,o,r,a,u=n[5]&&Gn(n),s=n[4]&&Wn(n);return{c(){e=O("div"),t=O("div"),l=H(),i=O("span"),u&&u.c(),o=H(),s&&s.c(),_(t,"class","prom-banner__icon"),_(t,"aria-hidden","true"),_(i,"class","prom-banner__message"),_(i,"aria-live",n[6]),_(i,"role",n[7]),_(i,"aria-atomic","true"),_(e,"class",r="prom-banner prom-banner--"+n[1])},m(c,f){I(c,e,f),v(e,t),v(e,l),v(e,i),u&&u.m(i,null),v(e,o),s&&s.m(e,null),a=!0},p(c,f){c[5]?u?(u.p(c,f),f&32&&y(u,1)):(u=Gn(c),u.c(),y(u,1),u.m(i,null)):u&&(ce(),C(u,1,1,()=>{u=null}),fe()),(!a||f&64)&&_(i,"aria-live",c[6]),(!a||f&128)&&_(i,"role",c[7]),c[4]?s?s.p(c,f):(s=Wn(c),s.c(),s.m(e,null)):s&&(s.d(1),s=null),(!a||f&2&&r!==(r="prom-banner prom-banner--"+c[1]))&&_(e,"class",r)},i(c){a||(y(u),a=!0)},o(c){C(u),a=!1},d(c){c&&F(e),u&&u.d(),s&&s.d()}}}function Gn(n){let e,t,l,i,o,r,a=n[2]&&Kn(n),u=n[3]&&jn(n);const s=n[17].default,c=ie(s,n,n[16],null);return{c(){e=O("span"),t=$(n[8]),l=H(),a&&a.c(),i=H(),u&&u.c(),o=H(),c&&c.c(),_(e,"class","screen-reader")},m(f,d){I(f,e,d),v(e,t),I(f,l,d),a&&a.m(f,d),I(f,i,d),u&&u.m(f,d),I(f,o,d),c&&c.m(f,d),r=!0},p(f,d){(!r||d&256)&&ue(t,f[8]),f[2]?a?a.p(f,d):(a=Kn(f),a.c(),a.m(i.parentNode,i)):a&&(a.d(1),a=null),f[3]?u?u.p(f,d):(u=jn(f),u.c(),u.m(o.parentNode,o)):u&&(u.d(1),u=null),c&&c.p&&(!r||d&65536)&&re(c,s,f,f[16],r?oe(s,f[16],d,null):se(f[16]),null)},i(f){r||(y(c,f),r=!0)},o(f){C(c,f),r=!1},d(f){f&&(F(e),F(l),F(i),F(o)),a&&a.d(f),u&&u.d(f),c&&c.d(f)}}}function Kn(n){let e;return{c(){e=$(n[2])},m(t,l){I(t,e,l)},p(t,l){l&4&&ue(e,t[2])},d(t){t&&F(e)}}}function jn(n){let e,t;return{c(){e=new Ge(!1),t=we(),e.a=t},m(l,i){e.m(n[3],l,i),I(l,t,i)},p(l,i){i&8&&e.p(l[3])},d(l){l&&(F(t),e.d())}}}function Wn(n){let e,t,l,i,o;return{c(){e=O("button"),t=O("span"),l=$(n[9]),_(t,"class","screen-reader"),_(e,"type","button"),_(e,"class","prom-banner__close")},m(r,a){I(r,e,a),v(e,t),v(t,l),i||(o=V(e,"click",n[10]),i=!0)},p(r,a){a&512&&ue(l,r[9])},d(r){r&&F(e),i=!1,o()}}}function bi(n){let e,t,l=n[0]&&zn(n);return{c(){l&&l.c(),e=we()},m(i,o){l&&l.m(i,o),I(i,e,o),t=!0},p(i,[o]){i[0]?l?(l.p(i,o),o&1&&y(l,1)):(l=zn(i),l.c(),y(l,1),l.m(e.parentNode,e)):l&&(ce(),C(l,1,1,()=>{l=null}),fe())},i(i){t||(y(l),t=!0)},o(i){C(l),t=!1},d(i){i&&F(e),l&&l.d(i)}}}function gi(n,e,t){let l,i,{$$slots:o={},$$scope:r}=e;const a=ye();let{type:u="info"}=e,{visible:s=!1}=e,{text:c=null}=e,{html:f=null}=e,{close:d=null}=e,{closable:m=!0}=e,{infoText:h="information"}=e,{warningText:p="warning"}=e,{loadingText:E="loading"}=e,{successText:U="success"}=e,g=!1,D="",M="";function T(b){t(0,s=!1),a("hidden",{event:b})}return n.$$set=b=>{"type"in b&&t(1,u=b.type),"visible"in b&&t(0,s=b.visible),"text"in b&&t(2,c=b.text),"html"in b&&t(3,f=b.html),"close"in b&&t(11,d=b.close),"closable"in b&&t(4,m=b.closable),"infoText"in b&&t(12,h=b.infoText),"warningText"in b&&t(13,p=b.warningText),"loadingText"in b&&t(14,E=b.loadingText),"successText"in b&&t(15,U=b.successText),"$$scope"in b&&t(16,r=b.$$scope)},n.$$.update=()=>{n.$$.dirty&2064&&t(9,l=d||!m||console.warn("Banner close text is required but not included!")),n.$$.dirty&2&&t(6,D={info:"polite",warning:"assertive"}[u]||"polite"),n.$$.dirty&2&&t(7,M={info:"status",warning:"alert"}[u]||"status"),n.$$.dirty&61442&&t(8,i={info:h,warning:p,loading:E,success:U}[u]),n.$$.dirty&1&&bn(()=>{s&&setTimeout(()=>{t(5,g=s)},200)}),n.$$.dirty&1&&(s?setTimeout(()=>{t(5,g=!0)},100):t(5,g=!1))},[s,u,c,f,m,g,D,M,i,l,T,d,h,p,E,U,r,o]}class Ut extends te{constructor(e){super(),ne(this,e,gi,bi,ee,{type:1,visible:0,text:2,html:3,close:11,closable:4,infoText:12,warningText:13,loadingText:14,successText:15})}}function pi(n){let e,t;return{c(){e=new Ge(!1),t=we(),e.a=t},m(l,i){e.m(n[4],l,i),I(l,t,i)},p(l,i){i&16&&e.p(l[4])},d(l){l&&(F(t),e.d())}}}function wi(n){let e,t;return{c(){e=new Ge(!1),t=we(),e.a=t},m(l,i){e.m(n[7],l,i),I(l,t,i)},p(l,i){i&128&&e.p(l[7])},d(l){l&&(F(t),e.d())}}}function yi(n){let e;return{c(){e=$(n[5])},m(t,l){I(t,e,l)},p(t,l){l&32&&ue(e,t[5])},d(t){t&&F(e)}}}function ki(n){let e;return{c(){e=$(n[9])},m(t,l){I(t,e,l)},p(t,l){l&512&&ue(e,t[9])},d(t){t&&F(e)}}}function Ti(n){let e=n[1].i18n.errors.unknown+"",t;return{c(){t=$(e)},m(l,i){I(l,t,i)},p(l,i){i&2&&e!==(e=l[1].i18n.errors.unknown+"")&&ue(t,e)},d(l){l&&F(t)}}}function Jn(n){let e,t=n[1].i18n.fileResultsMoreInfo+"",l,i,o;return{c(){e=O("button"),l=$(t),_(e,"class","contentarea-feedback__more-info"),_(e,"type","button")},m(r,a){I(r,e,a),v(e,l),i||(o=V(e,"click",n[17]),i=!0)},p(r,a){a&2&&t!==(t=r[1].i18n.fileResultsMoreInfo+"")&&ue(l,t)},d(r){r&&F(e),i=!1,o()}}}function Ci(n){let e,t;function l(a,u){return a[1].apiError?Ti:a[10]?ki:a[6]?yi:a[8]?wi:pi}let i=l(n),o=i(n),r=n[3]&&Jn(n);return{c(){e=O("span"),o.c(),t=H(),r&&r.c()},m(a,u){I(a,e,u),o.m(e,null),v(e,t),r&&r.m(e,null)},p(a,u){i===(i=l(a))&&o?o.p(a,u):(o.d(1),o=i(a),o&&(o.c(),o.m(e,t))),a[3]?r?r.p(a,u):(r=Jn(a),r.c(),r.m(e,null)):r&&(r.d(1),r=null)},d(a){a&&F(e),o.d(),r&&r.d()}}}function Si(n){let e,t,l,i,o,r;function a(s){n[18](s)}let u={close:n[1].i18n.close,type:n[2],$$slots:{default:[Ci]},$$scope:{ctx:n}};return n[0]!==void 0&&(u.visible=n[0]),t=new Ut({props:u}),be.push(()=>je(t,"visible",a)),t.$on("hidden",n[13]),{c(){e=O("div"),j(t.$$.fragment)},m(s,c){I(s,e,c),G(t,e,null),i=!0,o||(r=V(e,"click",n[12]),o=!0)},p(s,[c]){const f={};c&2&&(f.close=s[1].i18n.close),c&4&&(f.type=s[2]),c&526330&&(f.$$scope={dirty:c,ctx:s}),!l&&c&1&&(l=!0,f.visible=s[0],Ke(()=>l=!1)),t.$set(f)},i(s){i||(y(t.$$.fragment,s),i=!0)},o(s){C(t.$$.fragment,s),i=!1},d(s){s&&F(e),K(t),o=!1,r()}}}function Ei(n,e){const t=n.filter(l=>!l.error&&!l.success);return t.length===1?e.addInProgressSingle:e.addInProgressMultiple.replace("{inProgressCount}",t.length)}function Fi(n,e,t,l){if(n.length===1){const i=l.replace("{elementId}",n[0].elementId);return hn(e.successfulAddSingle,"{0}","{1}",i)}else return hn(e.successfulAddMultiple.replace("{0}",n.length),"{1}","{2}",t)}function Ii(n,e){if(n.length===1){const t=n[0];return e.failedAddSingle.replace("{0}",t.name).replace("{1}",e[t.error+"Error"])}else return e.failedAddMultiple}function Pi(n,e,t){const l=n.filter(o=>o.success),i=n.filter(o=>o.error);return hn(e.mixedSuccessAdd,"{1}","{2}",t).replace("{0}",l.length).replace("{3}",i.length)}function Oi(n,e){if(e)return"warning";let t=!1;for(let l=0;l<n.length;l++){if(!n[l].error&&!n[l].success)return"loading";n[l].error&&(t=!0)}return t?"warning":"success"}function hn(n,e,t,l){return n=n.replace(e,`<a
            class="quick-add__resource-link"
            href="${l}"
            target="mainmenu"
        >`),n=n.replace(t,"</a>"),n}function Li(n,e,t){let l,i,o,r,a,u,s,c,f,d;ze(n,Se,b=>t(1,d=b));let{files:m=[]}=e,{bannerVisible:h=!1}=e,{resourcesUrl:p=""}=e,{singleResourceUrl:E=""}=e;const U=ye();yt(()=>{m.length>0||d.apiError?t(0,h=!0):t(0,h=!1),window.setIframeDefaultHeight()});function g(b){b.target.classList.contains("quick-add__resource-link")&&t(0,h=!1)}function D(){t(14,m=[]),window.setIframeDefaultHeight()}const M=()=>U("showMoreInfo");function T(b){h=b,t(0,h)}return n.$$set=b=>{"files"in b&&t(14,m=b.files),"bannerVisible"in b&&t(0,h=b.bannerVisible),"resourcesUrl"in b&&t(15,p=b.resourcesUrl),"singleResourceUrl"in b&&t(16,E=b.singleResourceUrl)},n.$$.update=()=>{n.$$.dirty&16384&&t(10,l=m.some(b=>!b.error&&!b.success)),n.$$.dirty&16386&&t(9,i=Ei(m,d.i18n)),n.$$.dirty&16384&&t(8,o=!m.some(b=>!b.success)),n.$$.dirty&114690&&t(7,r=Fi(m,d.i18n,p,E)),n.$$.dirty&16384&&t(6,a=!m.some(b=>!b.error)),n.$$.dirty&16386&&t(5,u=Ii(m,d.i18n)),n.$$.dirty&49154&&t(4,s=Pi(m,d.i18n,p)),n.$$.dirty&16384&&t(3,c=m.some(b=>!b.success)),n.$$.dirty&16386&&t(2,f=Oi(m,d.apiError))},[h,d,f,c,s,u,a,r,o,i,l,U,g,D,m,p,E,M,T]}class Ai extends te{constructor(e){super(),ne(this,e,Li,Si,ee,{files:14,bannerVisible:0,resourcesUrl:15,singleResourceUrl:16})}}const{window:Qn}=wt,vi=n=>({}),Xn=n=>({}),Ui=n=>({}),Yn=n=>({}),Bi=n=>({}),Zn=n=>({}),Ri=n=>({}),xn=n=>({});function $n(n){let e,t,l,i,o,r,a,u,s,c,f,d,m,h,p,E,U,g,D,M;const T=n[31].title,b=ie(T,n,n[30],xn);let w=n[4]&&et(n),P=n[24].banner&&nt(n),N=!n[1]&&tt(n);const Z=n[31].footer,B=ie(Z,n,n[30],Xn),Q=B||Di(n);return{c(){e=O("div"),t=O("div"),l=H(),i=O("section"),o=O("h1"),b&&b.c(),r=H(),w&&w.c(),u=H(),s=O("div"),c=O("div"),P&&P.c(),f=H(),N&&N.c(),d=H(),m=O("div"),h=O("div"),p=H(),E=O("div"),Q&&Q.c(),_(t,"class","prom-modal2__backdrop"),_(o,"id",a=n[10]+"-header"),_(o,"class","prom-modal2__header"),_(c,"class","prom-modal2__content"),_(h,"class","prom-modal2__content-gradient--inner"),_(h,"style",n[17]),_(m,"class","prom-modal2__content-gradient"),_(E,"class","prom-modal2__footer"),_(s,"class","prom-modal2__inner"),_(i,"id",n[10]),_(i,"role","dialog"),_(i,"class","prom-modal2__dialog"),_(i,"style",n[14]),_(i,"aria-labelledby",U=n[10]+"-header"),_(i,"aria-describedby",n[18]),_(i,"aria-modal","true"),le(i,"prom-modal2__dialog--wide",n[11]),_(e,"class","prom-modal2__wrapper")},m(R,q){I(R,e,q),v(e,t),v(e,l),v(e,i),v(i,o),b&&b.m(o,null),v(o,r),w&&w.m(o,null),v(i,u),v(i,s),v(s,c),P&&P.m(c,null),v(c,f),N&&N.m(c,null),n[33](c),v(s,d),v(s,m),v(m,h),v(s,p),v(s,E),Q&&Q.m(E,null),n[34](i),g=!0,D||(M=[V(t,"click",n[32]),V(c,"scroll",n[23])],D=!0)},p(R,q){b&&b.p&&(!g||q[0]&1073741824)&&re(b,T,R,R[30],g?oe(T,R[30],q,Ri):se(R[30]),xn),R[4]?w?w.p(R,q):(w=et(R),w.c(),w.m(o,null)):w&&(w.d(1),w=null),(!g||q[0]&1024&&a!==(a=R[10]+"-header"))&&_(o,"id",a),R[24].banner?P?(P.p(R,q),q[0]&16777216&&y(P,1)):(P=nt(R),P.c(),y(P,1),P.m(c,f)):P&&(ce(),C(P,1,1,()=>{P=null}),fe()),R[1]?N&&(ce(),C(N,1,1,()=>{N=null}),fe()):N?(N.p(R,q),q[0]&2&&y(N,1)):(N=tt(R),N.c(),y(N,1),N.m(c,null)),(!g||q[0]&131072)&&_(h,"style",R[17]),B?B.p&&(!g||q[0]&1073741824)&&re(B,Z,R,R[30],g?oe(Z,R[30],q,vi):se(R[30]),Xn):Q&&Q.p&&(!g||q[0]&908)&&Q.p(R,g?q:[-1,-1]),(!g||q[0]&1024)&&_(i,"id",R[10]),(!g||q[0]&16384)&&_(i,"style",R[14]),(!g||q[0]&1024&&U!==(U=R[10]+"-header"))&&_(i,"aria-labelledby",U),(!g||q[0]&262144)&&_(i,"aria-describedby",R[18]),(!g||q[0]&2048)&&le(i,"prom-modal2__dialog--wide",R[11])},i(R){g||(y(b,R),y(P),y(N),y(Q,R),g=!0)},o(R){C(b,R),C(P),C(N),C(Q,R),g=!1},d(R){R&&F(e),b&&b.d(R),w&&w.d(),P&&P.d(),N&&N.d(),n[33](null),Q&&Q.d(R),n[34](null),D=!1,_e(M)}}}function et(n){let e;return{c(){e=$(n[4])},m(t,l){I(t,e,l)},p(t,l){l[0]&16&&ue(e,t[4])},d(t){t&&F(e)}}}function nt(n){let e,t;const l=n[31].banner,i=ie(l,n,n[30],Zn);return{c(){e=O("div"),i&&i.c(),_(e,"class","prom-modal2__banner-slot")},m(o,r){I(o,e,r),i&&i.m(e,null),t=!0},p(o,r){i&&i.p&&(!t||r[0]&1073741824)&&re(i,l,o,o[30],t?oe(l,o[30],r,Bi):se(o[30]),Zn)},i(o){t||(y(i,o),t=!0)},o(o){C(i,o),t=!1},d(o){o&&F(e),i&&i.d(o)}}}function tt(n){let e,t,l,i,o;const r=n[31].body,a=ie(r,n,n[30],Yn);let u=n[5]&&lt(n),s=n[6]&&it(n);return{c(){e=O("div"),a&&a.c(),t=H(),u&&u.c(),l=H(),s&&s.c(),_(e,"id",i=n[10]+"-body"),_(e,"class","prom-modal2__body"),le(e,"prom-modal2__body--scroll",n[12])},m(c,f){I(c,e,f),a&&a.m(e,null),v(e,t),u&&u.m(e,null),v(e,l),s&&s.m(e,null),o=!0},p(c,f){a&&a.p&&(!o||f[0]&1073741824)&&re(a,r,c,c[30],o?oe(r,c[30],f,Ui):se(c[30]),Yn),c[5]?u?u.p(c,f):(u=lt(c),u.c(),u.m(e,l)):u&&(u.d(1),u=null),c[6]?s?s.p(c,f):(s=it(c),s.c(),s.m(e,null)):s&&(s.d(1),s=null),(!o||f[0]&1024&&i!==(i=c[10]+"-body"))&&_(e,"id",i),(!o||f[0]&4096)&&le(e,"prom-modal2__body--scroll",c[12])},i(c){o||(y(a,c),o=!0)},o(c){C(a,c),o=!1},d(c){c&&F(e),a&&a.d(c),u&&u.d(),s&&s.d()}}}function lt(n){let e;return{c(){e=$(n[5])},m(t,l){I(t,e,l)},p(t,l){l[0]&32&&ue(e,t[5])},d(t){t&&F(e)}}}function it(n){let e,t;return{c(){e=new Ge(!1),t=we(),e.a=t},m(l,i){e.m(n[6],l,i),I(l,t,i)},p(l,i){i[0]&64&&e.p(l[6])},d(l){l&&(F(t),e.d())}}}function ot(n){let e,t;return e=new We({props:{type:n[9],htmlType:"button",text:n[3],large:!0}}),e.$on("click",n[21]),{c(){j(e.$$.fragment)},m(l,i){G(e,l,i),t=!0},p(l,i){const o={};i[0]&512&&(o.type=l[9]),i[0]&8&&(o.text=l[3]),e.$set(o)},i(l){t||(y(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){K(e,l)}}}function Di(n){let e,t,l,i;e=new We({props:{type:n[8],htmlType:"button",text:n[2],large:!0}}),e.$on("click",n[22]);let o=n[7]&&ot(n);return{c(){j(e.$$.fragment),t=H(),o&&o.c(),l=we()},m(r,a){G(e,r,a),I(r,t,a),o&&o.m(r,a),I(r,l,a),i=!0},p(r,a){const u={};a[0]&256&&(u.type=r[8]),a[0]&4&&(u.text=r[2]),e.$set(u),r[7]?o?(o.p(r,a),a[0]&128&&y(o,1)):(o=ot(r),o.c(),y(o,1),o.m(l.parentNode,l)):o&&(ce(),C(o,1,1,()=>{o=null}),fe())},i(r){i||(y(e.$$.fragment,r),y(o),i=!0)},o(r){C(e.$$.fragment,r),C(o),i=!1},d(r){r&&(F(t),F(l)),K(e,r),o&&o.d(r)}}}function Ni(n){let e,t,l,i,o=n[0]&&$n(n);return{c(){o&&o.c(),e=we()},m(r,a){o&&o.m(r,a),I(r,e,a),t=!0,l||(i=[V(Qn,"keyup",n[19]),V(Qn,"resize",n[20])],l=!0)},p(r,a){r[0]?o?(o.p(r,a),a[0]&1&&y(o,1)):(o=$n(r),o.c(),y(o,1),o.m(e.parentNode,e)):o&&(ce(),C(o,1,1,()=>{o=null}),fe())},i(r){t||(y(o),t=!0)},o(r){C(o),t=!1},d(r){r&&F(e),o&&o.d(r),l=!1,_e(i)}}}function Mi(n,e,t){let l,{$$slots:i={},$$scope:o}=e;const r=Yt(i),a=ye();let{id:u=Math.random().toString(36).substr(2,16)}=e,{enabled:s=!1}=e,{wide:c=!1}=e,{titleOnly:f=!1}=e,{confirmText:d=void 0}=e,{cancelText:m=void 0}=e,{titleText:h=void 0}=e,{bodyText:p=void 0}=e,{bodyHtml:E=void 0}=e,{showCancel:U=!0}=e,{scrollBody:g=!1}=e,{describedBy:D=void 0}=e,{confirmButtonType:M="primary"}=e,{cancelButtonType:T="secondary"}=e,{clickOutsideCloses:b=!0}=e,w=!1,P=50,N=document.querySelector("html"),Z,B="",Q,R,q,L,ae,A=!1;function W(){Q=document.activeElement,N.classList.add("prom-modal2--open-within"),k(),setTimeout(()=>{if(q){const S=q.querySelectorAll("button");R=new St(q),R.init(),S.length&&S[S.length-1].focus()}},0),setTimeout(()=>k(),300)}function X(){N.classList.remove("prom-modal2--open-within"),Q&&Q.focus(),R&&R.teardown()}function x(S){s&&Te(S.key)===J.ESCAPE&&ge()}function k(){if(!s)return;const S=24*2;let Ne=window.innerWidth>640?Math.min(window.innerHeight-S,c?1200:600):window.innerHeight-S;t(14,B=`max-height: ${Ne}px;`),setTimeout(()=>{L&&t(27,w=L.clientHeight!==L.scrollHeight)},0)}function ge(){t(0,s=!1),a("close",{confirmed:!1}),a("cancel"),Z&&Z(!1)}function Ie(){t(0,s=!1),a("close",{confirmed:!0}),a("confirm"),Z&&Z(!0)}function De(S){return S.titleOnly!==void 0&&t(1,f=S.titleOnly),S.confirmText!==void 0&&t(2,d=S.confirmText),S.cancelText!==void 0&&t(3,m=S.cancelText),S.titleText!==void 0&&t(4,h=S.titleText),S.bodyText!==void 0&&t(5,p=S.bodyText),S.bodyHtml!==void 0&&t(6,E=S.bodyHtml),S.titleOnly!==void 0&&t(1,f=S.titleOnly),S.showCancel!==void 0&&t(7,U=S.showCancel),S.describedBy!==void 0&&t(25,D=S.describedBy),S.confirmButtonType!==void 0&&t(8,M=S.confirmButtonType),S.cancelButtonType!==void 0&&t(9,T=S.cancelButtonType),t(0,s=!0),new Promise(Ne=>{Z=Ne})}function qt(){const S=L.scrollHeight,Ne=L.clientHeight,Kt=L.scrollTop;t(28,P=S-(Ne+Kt))}const Vt=()=>b&&ge();function zt(S){be[S?"unshift":"push"](()=>{L=S,t(16,L)})}function Gt(S){be[S?"unshift":"push"](()=>{q=S,t(15,q)})}return n.$$set=S=>{"id"in S&&t(10,u=S.id),"enabled"in S&&t(0,s=S.enabled),"wide"in S&&t(11,c=S.wide),"titleOnly"in S&&t(1,f=S.titleOnly),"confirmText"in S&&t(2,d=S.confirmText),"cancelText"in S&&t(3,m=S.cancelText),"titleText"in S&&t(4,h=S.titleText),"bodyText"in S&&t(5,p=S.bodyText),"bodyHtml"in S&&t(6,E=S.bodyHtml),"showCancel"in S&&t(7,U=S.showCancel),"scrollBody"in S&&t(12,g=S.scrollBody),"describedBy"in S&&t(25,D=S.describedBy),"confirmButtonType"in S&&t(8,M=S.confirmButtonType),"cancelButtonType"in S&&t(9,T=S.cancelButtonType),"clickOutsideCloses"in S&&t(13,b=S.clickOutsideCloses),"$$scope"in S&&t(30,o=S.$$scope)},n.$$.update=()=>{if(n.$$.dirty[0]&402653184){let S=0;w&&(S=Math.min(P,30)),t(17,ae=`height: ${S}px;`)}n.$$.dirty[0]&33555456&&t(18,l=D||`${u}-body`),n.$$.dirty[0]&536870913&&(s&&!A?(t(29,A=s),W()):!s&&A&&(t(29,A=s),X())),n.$$.dirty[0]&2049&&s&&c&&k()},[s,f,d,m,h,p,E,U,M,T,u,c,g,b,B,q,L,ae,l,x,k,ge,Ie,qt,r,D,De,w,P,A,o,i,Vt,zt,Gt]}class Hi extends te{constructor(e){super(),ne(this,e,Mi,Ni,ee,{id:10,enabled:0,wide:11,titleOnly:1,confirmText:2,cancelText:3,titleText:4,bodyText:5,bodyHtml:6,showCancel:7,scrollBody:12,describedBy:25,confirmButtonType:8,cancelButtonType:9,clickOutsideCloses:13,prompt:26},null,[-1,-1])}get prompt(){return this.$$.ctx[26]}}const qi=n=>({}),rt=n=>({}),Vi=n=>({}),st=n=>({});function zi(n){let e,t,l;const i=n[2].header,o=ie(i,n,n[1],st),r=n[2].body,a=ie(r,n,n[1],rt);return{c(){e=O("table"),o&&o.c(),t=H(),a&&a.c(),_(e,"class","prom-list"),_(e,"aria-describedby",n[0])},m(u,s){I(u,e,s),o&&o.m(e,null),v(e,t),a&&a.m(e,null),l=!0},p(u,[s]){o&&o.p&&(!l||s&2)&&re(o,i,u,u[1],l?oe(i,u[1],s,Vi):se(u[1]),st),a&&a.p&&(!l||s&2)&&re(a,r,u,u[1],l?oe(r,u[1],s,qi):se(u[1]),rt),(!l||s&1)&&_(e,"aria-describedby",u[0])},i(u){l||(y(o,u),y(a,u),l=!0)},o(u){C(o,u),C(a,u),l=!1},d(u){u&&F(e),o&&o.d(u),a&&a.d(u)}}}function Gi(n,e,t){let{$$slots:l={},$$scope:i}=e,{aria_describedby:o=void 0}=e;return n.$$set=r=>{"aria_describedby"in r&&t(0,o=r.aria_describedby),"$$scope"in r&&t(1,i=r.$$scope)},[o,i,l]}class Ki extends te{constructor(e){super(),ne(this,e,Gi,zi,ee,{aria_describedby:0})}}function ji(n){let e,t,l,i;const o=n[7].default,r=ie(o,n,n[6],null);return{c(){e=O("tr"),r&&r.c(),_(e,"class","prom-list-element"),le(e,"prom-list-element--checked",n[0]),le(e,"prom-list-element--header",n[2]),le(e,"prom-list-element--right",n[3]),le(e,"prom-list-element--dragged",n[1])},m(a,u){I(a,e,u),r&&r.m(e,null),t=!0,l||(i=V(e,"click",n[4]),l=!0)},p(a,[u]){r&&r.p&&(!t||u&64)&&re(r,o,a,a[6],t?oe(o,a[6],u,null):se(a[6]),null),(!t||u&1)&&le(e,"prom-list-element--checked",a[0]),(!t||u&4)&&le(e,"prom-list-element--header",a[2]),(!t||u&8)&&le(e,"prom-list-element--right",a[3]),(!t||u&2)&&le(e,"prom-list-element--dragged",a[1])},i(a){t||(y(r,a),t=!0)},o(a){C(r,a),t=!1},d(a){a&&F(e),r&&r.d(a),l=!1,i()}}}function Wi(n,e,t){let{$$slots:l={},$$scope:i}=e;const o=ye();let{checked:r=!1}=e,{dragged:a=!1}=e,{header:u=!1}=e,{alignTextRight:s=!1}=e,{checkOnClick:c=!1}=e;function f(){c&&t(0,r=!r),o("click",{checked:r})}return n.$$set=d=>{"checked"in d&&t(0,r=d.checked),"dragged"in d&&t(1,a=d.dragged),"header"in d&&t(2,u=d.header),"alignTextRight"in d&&t(3,s=d.alignTextRight),"checkOnClick"in d&&t(5,c=d.checkOnClick),"$$scope"in d&&t(6,i=d.$$scope)},[r,a,u,s,f,c,i,l]}class Bt extends te{constructor(e){super(),ne(this,e,Wi,ji,ee,{checked:0,dragged:1,header:2,alignTextRight:3,checkOnClick:5})}}const Ji=n=>({}),ut=n=>({}),Qi=n=>({}),at=n=>({}),Xi=n=>({}),ct=n=>({}),Yi=n=>({}),ft=n=>({});function Zi(n){let e,t,l,i;const o=n[6].data,r=ie(o,n,n[5],at),a=n[6]["header-data"],u=ie(a,n,n[5],ut);return{c(){e=O("td"),r&&r.c(),t=H(),u&&u.c(),_(e,"class",l="prom-cell__data prom-cell prom-cell__"+n[1]+" prom-cell--priority-"+n[4]),_(e,"colspan",n[2]),_(e,"rowspan",n[3])},m(s,c){I(s,e,c),r&&r.m(e,null),v(e,t),u&&u.m(e,null),i=!0},p(s,c){r&&r.p&&(!i||c&32)&&re(r,o,s,s[5],i?oe(o,s[5],c,Qi):se(s[5]),at),u&&u.p&&(!i||c&32)&&re(u,a,s,s[5],i?oe(a,s[5],c,Ji):se(s[5]),ut),(!i||c&18&&l!==(l="prom-cell__data prom-cell prom-cell__"+s[1]+" prom-cell--priority-"+s[4]))&&_(e,"class",l),(!i||c&4)&&_(e,"colspan",s[2]),(!i||c&8)&&_(e,"rowspan",s[3])},i(s){i||(y(r,s),y(u,s),i=!0)},o(s){C(r,s),C(u,s),i=!1},d(s){s&&F(e),r&&r.d(s),u&&u.d(s)}}}function xi(n){let e,t,l,i;const o=n[6].header,r=ie(o,n,n[5],ft),a=n[6]["header-data"],u=ie(a,n,n[5],ct);return{c(){e=O("th"),r&&r.c(),t=H(),u&&u.c(),_(e,"class",l="prom-cell__header prom-cell prom-cell__"+n[1]+" prom-cell--priority-"+n[4]),_(e,"scope","col"),_(e,"colspan",n[2]),_(e,"rowspan",n[3])},m(s,c){I(s,e,c),r&&r.m(e,null),v(e,t),u&&u.m(e,null),i=!0},p(s,c){r&&r.p&&(!i||c&32)&&re(r,o,s,s[5],i?oe(o,s[5],c,Yi):se(s[5]),ft),u&&u.p&&(!i||c&32)&&re(u,a,s,s[5],i?oe(a,s[5],c,Xi):se(s[5]),ct),(!i||c&18&&l!==(l="prom-cell__header prom-cell prom-cell__"+s[1]+" prom-cell--priority-"+s[4]))&&_(e,"class",l),(!i||c&4)&&_(e,"colspan",s[2]),(!i||c&8)&&_(e,"rowspan",s[3])},i(s){i||(y(r,s),y(u,s),i=!0)},o(s){C(r,s),C(u,s),i=!1},d(s){s&&F(e),r&&r.d(s),u&&u.d(s)}}}function $i(n){let e,t,l,i;const o=[xi,Zi],r=[];function a(u,s){return u[0]?0:1}return e=a(n),t=r[e]=o[e](n),{c(){t.c(),l=we()},m(u,s){r[e].m(u,s),I(u,l,s),i=!0},p(u,[s]){let c=e;e=a(u),e===c?r[e].p(u,s):(ce(),C(r[c],1,1,()=>{r[c]=null}),fe(),t=r[e],t?t.p(u,s):(t=r[e]=o[e](u),t.c()),y(t,1),t.m(l.parentNode,l))},i(u){i||(y(t),i=!0)},o(u){C(t),i=!1},d(u){u&&F(l),r[e].d(u)}}}function eo(n,e,t){let{$$slots:l={},$$scope:i}=e,{header:o=!1}=e,{type:r=void 0}=e,{colspan:a=1}=e,{rowspan:u=1}=e,{priority:s=1}=e;return n.$$set=c=>{"header"in c&&t(0,o=c.header),"type"in c&&t(1,r=c.type),"colspan"in c&&t(2,a=c.colspan),"rowspan"in c&&t(3,u=c.rowspan),"priority"in c&&t(4,s=c.priority),"$$scope"in c&&t(5,i=c.$$scope)},[o,r,a,u,s,i,l]}class no extends te{constructor(e){super(),ne(this,e,eo,$i,ee,{header:0,type:1,colspan:2,rowspan:3,priority:4})}}function to(n){let e,t,l;return{c(){e=O("span"),t=O("span"),l=$(n[0]),le(t,"screen-reader",n[5]),_(e,"slot","header")},m(i,o){I(i,e,o),v(e,t),v(t,l)},p(i,o){o&1&&ue(l,i[0]),o&32&&le(t,"screen-reader",i[5])},d(i){i&&F(e)}}}function lo(n){let e,t,l,i,o,r,a;return{c(){e=O("span"),t=O("span"),l=$(n[0]),o=H(),r=O("span"),a=$(n[1]),_(t,"class",i="prom-text-cell--"+n[2]),_(e,"slot","data")},m(u,s){I(u,e,s),v(e,t),v(t,l),v(e,o),v(e,r),v(r,a)},p(u,s){s&1&&ue(l,u[0]),s&4&&i!==(i="prom-text-cell--"+u[2])&&_(t,"class",i),s&2&&ue(a,u[1])},d(u){u&&F(e)}}}function io(n){let e,t;return e=new no({props:{header:n[3],priority:n[4],type:"text",colspan:n[6],rowspan:n[7],$$slots:{data:[lo],header:[to]},$$scope:{ctx:n}}}),{c(){j(e.$$.fragment)},m(l,i){G(e,l,i),t=!0},p(l,[i]){const o={};i&8&&(o.header=l[3]),i&16&&(o.priority=l[4]),i&64&&(o.colspan=l[6]),i&128&&(o.rowspan=l[7]),i&295&&(o.$$scope={dirty:i,ctx:l}),e.$set(o)},i(l){t||(y(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){K(e,l)}}}function oo(n,e,t){let{text:l=""}=e,{detail:i=""}=e,{textStyle:o="plain"}=e,{header:r=!1}=e,{priority:a=1}=e,{headerHidden:u=!1}=e,{colspan:s=1}=e,{rowspan:c=1}=e;return n.$$set=f=>{"text"in f&&t(0,l=f.text),"detail"in f&&t(1,i=f.detail),"textStyle"in f&&t(2,o=f.textStyle),"header"in f&&t(3,r=f.header),"priority"in f&&t(4,a=f.priority),"headerHidden"in f&&t(5,u=f.headerHidden),"colspan"in f&&t(6,s=f.colspan),"rowspan"in f&&t(7,c=f.rowspan)},[l,i,o,r,a,u,s,c]}class Be extends te{constructor(e){super(),ne(this,e,oo,io,ee,{text:0,detail:1,textStyle:2,header:3,priority:4,headerHidden:5,colspan:6,rowspan:7})}}function dt(n,e,t){const l=n.slice();return l[5]=e[t],l}function ro(n){let e,t,l,i;return e=new Be({props:{text:n[2].fileName,header:!0}}),l=new Be({props:{text:n[2].uploadResult,header:!0}}),{c(){j(e.$$.fragment),t=H(),j(l.$$.fragment)},m(o,r){G(e,o,r),I(o,t,r),G(l,o,r),i=!0},p(o,r){const a={};r&4&&(a.text=o[2].fileName),e.$set(a);const u={};r&4&&(u.text=o[2].uploadResult),l.$set(u)},i(o){i||(y(e.$$.fragment,o),y(l.$$.fragment,o),i=!0)},o(o){C(e.$$.fragment,o),C(l.$$.fragment,o),i=!1},d(o){o&&F(t),K(e,o),K(l,o)}}}function so(n){let e,t,l;return t=new Bt({props:{header:!0,$$slots:{default:[ro]},$$scope:{ctx:n}}}),{c(){e=O("thead"),j(t.$$.fragment),_(e,"slot","header")},m(i,o){I(i,e,o),G(t,e,null),l=!0},p(i,o){const r={};o&260&&(r.$$scope={dirty:o,ctx:i}),t.$set(r)},i(i){l||(y(t.$$.fragment,i),l=!0)},o(i){C(t.$$.fragment,i),l=!1},d(i){i&&F(e),K(t)}}}function uo(n){let e,t;return e=new Be({props:{text:n[2].fileInProgress,textStyle:"neutral"}}),{c(){j(e.$$.fragment)},m(l,i){G(e,l,i),t=!0},p(l,i){const o={};i&4&&(o.text=l[2].fileInProgress),e.$set(o)},i(l){t||(y(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){K(e,l)}}}function ao(n){let e,t;return e=new Be({props:{text:n[2].fileAdded,textStyle:"status-positive"}}),{c(){j(e.$$.fragment)},m(l,i){G(e,l,i),t=!0},p(l,i){const o={};i&4&&(o.text=l[2].fileAdded),e.$set(o)},i(l){t||(y(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){K(e,l)}}}function co(n){let e,t;return e=new Be({props:{text:n[2][n[5].error+"Error"],textStyle:"status-negative"}}),{c(){j(e.$$.fragment)},m(l,i){G(e,l,i),t=!0},p(l,i){const o={};i&6&&(o.text=l[2][l[5].error+"Error"]),e.$set(o)},i(l){t||(y(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){K(e,l)}}}function fo(n){let e,t,l,i,o,r;e=new Be({props:{text:n[5].name,textStyle:"title"}});const a=[co,ao,uo],u=[];function s(c,f){return c[5].error?0:c[5].success?1:2}return l=s(n),i=u[l]=a[l](n),{c(){j(e.$$.fragment),t=H(),i.c(),o=H()},m(c,f){G(e,c,f),I(c,t,f),u[l].m(c,f),I(c,o,f),r=!0},p(c,f){const d={};f&2&&(d.text=c[5].name),e.$set(d);let m=l;l=s(c),l===m?u[l].p(c,f):(ce(),C(u[m],1,1,()=>{u[m]=null}),fe(),i=u[l],i?i.p(c,f):(i=u[l]=a[l](c),i.c()),y(i,1),i.m(o.parentNode,o))},i(c){r||(y(e.$$.fragment,c),y(i),r=!0)},o(c){C(e.$$.fragment,c),C(i),r=!1},d(c){c&&(F(t),F(o)),K(e,c),u[l].d(c)}}}function mt(n){let e,t;return e=new Bt({props:{checkOnClick:!1,$$slots:{default:[fo]},$$scope:{ctx:n}}}),{c(){j(e.$$.fragment)},m(l,i){G(e,l,i),t=!0},p(l,i){const o={};i&262&&(o.$$scope={dirty:i,ctx:l}),e.$set(o)},i(l){t||(y(e.$$.fragment,l),t=!0)},o(l){C(e.$$.fragment,l),t=!1},d(l){K(e,l)}}}function mo(n){let e,t,l=Ce(n[1]),i=[];for(let r=0;r<l.length;r+=1)i[r]=mt(dt(n,l,r));const o=r=>C(i[r],1,1,()=>{i[r]=null});return{c(){e=O("tbody");for(let r=0;r<i.length;r+=1)i[r].c();_(e,"slot","body")},m(r,a){I(r,e,a);for(let u=0;u<i.length;u+=1)i[u]&&i[u].m(e,null);t=!0},p(r,a){if(a&6){l=Ce(r[1]);let u;for(u=0;u<l.length;u+=1){const s=dt(r,l,u);i[u]?(i[u].p(s,a),y(i[u],1)):(i[u]=mt(s),i[u].c(),y(i[u],1),i[u].m(e,null))}for(ce(),u=l.length;u<i.length;u+=1)o(u);fe()}},i(r){if(!t){for(let a=0;a<l.length;a+=1)y(i[a]);t=!0}},o(r){i=i.filter(Boolean);for(let a=0;a<i.length;a+=1)C(i[a]);t=!1},d(r){r&&F(e),nn(i,r)}}}function _o(n){let e,t,l;return t=new Ki({props:{$$slots:{body:[mo],header:[so]},$$scope:{ctx:n}}}),{c(){e=O("div"),j(t.$$.fragment),_(e,"slot","body")},m(i,o){I(i,e,o),G(t,e,null),l=!0},p(i,o){const r={};o&262&&(r.$$scope={dirty:o,ctx:i}),t.$set(r)},i(i){l||(y(t.$$.fragment,i),l=!0)},o(i){C(t.$$.fragment,i),l=!1},d(i){i&&F(e),K(t)}}}function ho(n){let e,t,l;function i(r){n[4](r)}let o={confirmText:n[2].close,titleText:n[2].failedAddModalTitle,confirmButtonType:"secondary",showCancel:!1,$$slots:{body:[_o]},$$scope:{ctx:n}};return n[0]!==void 0&&(o.enabled=n[0]),e=new Hi({props:o}),be.push(()=>je(e,"enabled",i)),{c(){j(e.$$.fragment)},m(r,a){G(e,r,a),l=!0},p(r,[a]){const u={};a&4&&(u.confirmText=r[2].close),a&4&&(u.titleText=r[2].failedAddModalTitle),a&262&&(u.$$scope={dirty:a,ctx:r}),!t&&a&1&&(t=!0,u.enabled=r[0],Ke(()=>t=!1)),e.$set(u)},i(r){l||(y(e.$$.fragment,r),l=!0)},o(r){C(e.$$.fragment,r),l=!1},d(r){K(e,r)}}}function bo(n,e,t){let l,i;ze(n,Se,u=>t(3,i=u));let{files:o=[]}=e,{enabled:r}=e;function a(u){r=u,t(0,r)}return n.$$set=u=>{"files"in u&&t(1,o=u.files),"enabled"in u&&t(0,r=u.enabled)},n.$$.update=()=>{n.$$.dirty&8&&t(2,l=i.i18n)},[r,o,l,i,a]}class go extends te{constructor(e){super(),ne(this,e,bo,ho,ee,{files:1,enabled:0})}}function po(n){let e,t,l,i,o,r;t=new Ai({props:{files:n[1].filesStatus,resourcesUrl:n[1].resourcesUrl,singleResourceUrl:n[1].singleResourceUrl}}),t.$on("showMoreInfo",n[2]);function a(s){n[3](s)}let u={files:n[1].filesStatus};return n[0]!==void 0&&(u.enabled=n[0]),i=new go({props:u}),be.push(()=>je(i,"enabled",a)),{c(){e=O("div"),j(t.$$.fragment),l=H(),j(i.$$.fragment),_(e,"class","contentarea-feedback")},m(s,c){I(s,e,c),G(t,e,null),v(e,l),G(i,e,null),r=!0},p(s,[c]){const f={};c&2&&(f.files=s[1].filesStatus),c&2&&(f.resourcesUrl=s[1].resourcesUrl),c&2&&(f.singleResourceUrl=s[1].singleResourceUrl),t.$set(f);const d={};c&2&&(d.files=s[1].filesStatus),!o&&c&1&&(o=!0,d.enabled=s[0],Ke(()=>o=!1)),i.$set(d)},i(s){r||(y(t.$$.fragment,s),y(i.$$.fragment,s),r=!0)},o(s){C(t.$$.fragment,s),C(i.$$.fragment,s),r=!1},d(s){s&&F(e),K(t),K(i)}}}function wo(n,e,t){let l;ze(n,Se,a=>t(1,l=a));let{showInfoModal:i=!1}=e;async function o(){t(0,i=!0),await nl(),document.querySelector(".contentarea-feedback__more-info").focus()}function r(a){i=a,t(0,i)}return n.$$set=a=>{"showInfoModal"in a&&t(0,i=a.showInfoModal)},[i,l,o,r]}class yo extends te{constructor(e){super(),ne(this,e,wo,po,ee,{showInfoModal:0})}}function ko(n,e,t,l){n.addEventListener("message",i=>{if(!(l&&i.origin!==n.location.origin)&&i.data)try{const o=JSON.parse(i.data);o&&o.messageName&&o.messageName===e&&t(o)}catch{}})}function To(n){let e;return{c(){e=$(n[3])},m(t,l){I(t,e,l)},p(t,l){l&8&&ue(e,t[3])},d(t){t&&F(e)}}}function Co(n){let e,t;return{c(){e=new Ge(!1),t=we(),e.a=t},m(l,i){e.m(n[3],l,i),I(l,t,i)},p(l,i){i&8&&e.p(l[3])},d(l){l&&(F(t),e.d())}}}function So(n){let e;function t(o,r){return o[4]?Co:To}let l=t(n),i=l(n);return{c(){e=O("span"),i.c()},m(o,r){I(o,e,r),i.m(e,null)},p(o,r){l===(l=t(o))&&i?i.p(o,r):(i.d(1),i=l(o),i&&(i.c(),i.m(e,null)))},d(o){o&&F(e),i.d()}}}function Eo(n){let e,t,l,i,o,r;function a(s){n[9](s)}let u={close:n[1].i18n.close,type:n[2],$$slots:{default:[So]},$$scope:{ctx:n}};return n[0]!==void 0&&(u.visible=n[0]),t=new Ut({props:u}),be.push(()=>je(t,"visible",a)),t.$on("hidden",Fo),{c(){e=O("div"),j(t.$$.fragment)},m(s,c){I(s,e,c),G(t,e,null),i=!0,o||(r=V(e,"click",n[5]),o=!0)},p(s,[c]){const f={};c&2&&(f.close=s[1].i18n.close),c&4&&(f.type=s[2]),c&32792&&(f.$$scope={dirty:c,ctx:s}),!l&&c&1&&(l=!0,f.visible=s[0],Ke(()=>l=!1)),t.$set(f)},i(s){i||(y(t.$$.fragment,s),i=!0)},o(s){C(t.$$.fragment,s),i=!1},d(s){s&&F(e),K(t),o=!1,r()}}}function Fo(){window.setIframeDefaultHeight()}function Io(n,e){return n=n.replace("{0}",`<a
            class="files__planner-link"
            href="${e}"
            target="mainmenu">`),n=n.replace("{1}","</a>"),n}function Po(n,e,t){let l,i,o,r;ze(n,Se,g=>t(1,r=g));let{bannerVisible:a=!1}=e,{plannerUrl:u=""}=e,{uploadStatus:s=de.none}=e,{uploadStatusPollingTimerId:c=0}=e;yt(()=>{h(),p(),ko(window,"showMultipleFilesUploadToPlannerFeedback",g=>{g.uploadStarted===!0&&t(7,s=de.inProgress),p()}),t(6,u=r.plannerUrl)}),el(()=>E());function f(g,D,M){switch(g){case de.none:return"";case de.inProgress:return D.addedFilesInProgress;case de.success:return Io(D.addedFilesSuccess,M);case de.error:return D.addedFilesError}}function d(g){switch(g){case de.none:return"";case de.inProgress:return"loading";case de.success:return"success";case de.error:return"warning"}}function m(g){g.target.classList.contains("files__planner-link")&&t(0,a=!1)}function h(){const{courseId:g}=r;di(g).then(D=>{t(7,s=D.status),D.status!==de.inProgress&&E()})}function p(){const{pollingIntervalOfMultipleFilesUploadStatusInMilliseconds:g}=r;if(c===0&&s===de.inProgress){const D=setInterval(()=>{h()},g);t(8,c=D)}}function E(){clearInterval(c),t(8,c=0)}function U(g){a=g,t(0,a),t(7,s)}return n.$$set=g=>{"bannerVisible"in g&&t(0,a=g.bannerVisible),"plannerUrl"in g&&t(6,u=g.plannerUrl),"uploadStatus"in g&&t(7,s=g.uploadStatus),"uploadStatusPollingTimerId"in g&&t(8,c=g.uploadStatusPollingTimerId)},n.$$.update=()=>{n.$$.dirty&128&&t(0,a=s!==de.none),n.$$.dirty&128&&t(4,l=s===de.success),n.$$.dirty&194&&t(3,i=f(s,r.i18n,u)),n.$$.dirty&128&&t(2,o=d(s))},[a,r,o,i,l,m,u,s,c,U]}class Oo extends te{constructor(e){super(),ne(this,e,Po,Eo,ee,{bannerVisible:0,plannerUrl:6,uploadStatus:7,uploadStatusPollingTimerId:8})}}function Lo(n,e,t){const l=window.screenX+window.innerWidth/2-e/2,i=window.screenY+window.innerHeight/2-t/2,o=window.open(n,"",`top=${i},left=${l},height=${t},width=${e},location=no,resizable=yes,toolbar=no,scrollbars=yes,status=no,menubar=no`);return o.focus&&o.focus(),o}const $e={Upload:0,LinkToCloud:1,Combined:2};function Ao(n,e=!0,t=null,l=660,i=550){return Rt(n,$e.LinkToCloud,e,t,l,i)}function Rt(n,e,t=!0,l=null,i=660,o=550){const r=new URL(n),a=Ot();return r.searchParams.append("target",a),r.searchParams.append("mode",JSON.stringify({allowToSelectMultipleFiles:t,allowedFileExtensions:l,allowCollaboration:!1,purpose:e})),Lo(r.href,i,o),new Promise((u,s)=>{window.addEventListener("message",c=>{c.data&&c.data.target===a&&u(c.data)})})}const Dt={dropbox:1,google:2,oneDriveForBusiness:3,local:4,oneDrivePersonal:5,webDav:6,ziggeo:7};class Re{constructor({downloadUrl:e,editUrl:t,id:l,isRegisteredWithCasper:i,isSupportedByCasper:o,isTemplate:r,mimeType:a,name:u,oAuthContext:s,sourceType:c,viewUrl:f}){this.downloadUrl=e,this.editUrl=t,this.id=l,this.isRegisteredWithCasper=i,this.isSupportedByCasper=o,this.isTemplate=r,this.mimeType=a,this.name=u,this.oAuthContext=s,this.sourceType=c,this.viewUrl=f}static fromGoogle(e,t){const i="https://drive.google.com/uc?export=download&id={fileId}".replace("{fileId}",e.id);return new Re({downloadUrl:i,editUrl:e.url,id:e.id,isRegisteredWithCasper:!1,isSupportedByCasper:!0,isTemplate:!1,mimeType:e.mimeType,name:e.name,oAuthContext:t,sourceType:Dt.google,viewUrl:e.url})}static fromOneDrive(e,t){return new Re({downloadUrl:null,editUrl:e.url,id:e.id,isRegisteredWithCasper:!1,isSupportedByCasper:!0,isTemplate:!1,mimeType:e.mimeType,name:e.name,oAuthContext:t,sourceType:e.sourceType,viewUrl:e.url})}}const Y={unknown:"unknown",tooLarge:"tooLarge",tooSmall:"tooSmall",nameTooLong:"nameTooLong",invalidFileName:"invalidFileName",invalidExtension:"invalidExtension"};function vo(n,{invalidExtensions:e,invalidFileNameCharacters:t,maxFileNameLength:l,maxFileSizeBytes:i}){return n.size>i?{valid:!1,error:Y.tooLarge}:n.size<=0?{valid:!1,error:Y.tooSmall}:Nt(n.name,e,t,l)}function Nt(n,e,t,l){if(n.length>l)return{valid:!1,error:Y.nameTooLong};if(n.trim()==="")return{valid:!1,error:Y.invalidFileName};for(const o of t)if(n.indexOf(o)!==-1)return{valid:!1,error:Y.invalidFileName};const i=n.split(".").pop().toLowerCase();return e.indexOf(i)!==-1?{valid:!1,error:Y.invalidExtension}:{valid:!0,error:void 0}}class ln{constructor({name:e,elementId:t,cloudId:l,success:i,error:o,fileRepoFile:r,cloudFile:a}){this.name=e,this.elementId=t,this.cloudId=l,this.success=i,this.error=o,this.fileRepoFile=r,this.cloudFile=a}static fromApi(e){const t=new ln({name:e.Title,elementId:e.ElementId,cloudId:e.CloudId,success:e.Success,error:void 0});if(!e.Success){const l=e.ErrorCodes&&e.ErrorCodes.length?e.ErrorCodes[0]:void 0,i={1:Y.invalidExtension,2:Y.invalidFileName,3:Y.tooLarge,10:Y.invalidFileName,11:Y.invalidFileName,14:Y.nameTooLong,17:Y.invalidFileType,28:Y.invalidFileType}[l];t.error=i===void 0?Y.unknown:i}return t}}class Ve{constructor({id:e,name:t,mimeType:l,signedFileRepoId:i,signature:o,error:r}){this.id=e,this.name=t,this.sourceType=Dt.local,this.mimeType=l,this.signedFileRepoId=i,this.signature=o,this.error=r}static fromFileRepo(e){let t=null;if(e.error){const l={InvalidPathCharacters:Y.invalidFileName,ExtensionNotAllowed:Y.invalidExtension,FileSizeTooLarge:Y.tooLarge,FileSizeTooSmall:Y.tooSmall}[e.error];t=l===void 0?"unknown":l}return new Ve({id:e.fileGuid,name:e.fileName,mimeType:e.mimeType,signedFileRepoId:e.signedFileRepoId,signature:e.signedGuid,error:t})}}function Uo(n,e,t,l=!1){t=t||n.name;const i=new FormData;i.append("file",n,t);const o={[e.authorizationHeaderKey]:"Bearer "+e.token,[e.validationHeaderKey]:e.validationHeader,[e.publicUploadHeaderKey]:e.publicUploadHeader,Accept:"application/json, text/javascript, */*; q=0.01"};return l&&(o[e.tempFileHeaderKey]="1"),fetch(e.endpoint,{body:i,method:"POST",mode:"cors",headers:o}).then(wn).then(r=>r.error?Object.assign({name:t},Ve.fromFileRepo(r)):Ve.fromFileRepo(r)).catch(r=>({name:t,error:Y.unknown}))}function Bo(n,e,t,l,i,o){const r={Url:e,Name:t,Size:l,SourceType:i};return Je(o.endpoint,r,{headers:{[o.authorizationHeaderKey]:"Bearer "+o.token,[o.validationHeaderKey]:o.validationHeader,[o.publicUploadFromExternalSourceHeaderKey]:o.publicUploadFromExternalSourceHeader,Accept:"application/json, text/javascript, */*; q=0.01"}}).then(a=>{const u=Ve.fromFileRepo(a);return a.error?{...u,name:t,originalFileId:n,sourceType:i}:{...u,originalFileId:n,sourceType:i}}).catch(a=>({name:t,originalFileId:n,sourceType:i,error:Y.unknown}))}function Ro(n,e,t){return pn(e.replace("~","")+"?FileName="+encodeURIComponent(n.name)).then(l=>l).catch(()=>t)}function Do(n,e,t,l,i,o,r,a){const u=new URL(t,window.location.origin);return Ao(u.href,l).then(({oAuthContext:s,files:c})=>{const f=c.map(d=>Re.fromGoogle(d,s));return yn(n,e,f,i,o,r,a)})}function No(n,e,t,l,i,o,r,a,u,s,c=!0,f=!0){const d=new URL(t,window.location.origin);let m=$e.Combined;return!c&&f?m=$e.LinkToCloud:c&&!f&&(m=$e.Upload),Rt(d.href,m,l).then(({oAuthContext:h,files:p,isLinkMode:E})=>{if(E){const U=p.map(g=>Re.fromOneDrive(g,h));return yn(n,e,U,i,o,a,s)}else return Mt(n,e,p,i,o,g=>Ht(g,r).then(D=>Bo(g.id,g.url,g.name,g.size,g.sourceType,D)),u,s)})}function yn(n,e,t,l,i,o,r){return t=t.filter(a=>{r(a);const u=Nt(a.name,l.invalidExtensions,[],l.maxFileNameLength);return u.valid||r({name:a.name,error:u.error}),u.valid}),Mo(n,e,t,o,i).then(a=>(a.forEach(u=>{r(u)}),a.forEach(u=>{const s=t.find(c=>c.id===u.cloudId);s&&(u.cloudFile=s)}),a)).catch(a=>{throw t.forEach(u=>{r({name:u.name,error:Y.unknown})}),a})}function Mo(n,e,t,l,i){const o=l.replace("{courseId}",n).replace("{folderId}",e),r={[i.headerName]:i.headerValue};return Je(o,t,{headers:r}).then(a=>a.map(u=>ln.fromApi(u)))}function Ho(n,e,t,l,i,o,r){const a=new Re({downloadUrl:null,editUrl:t.viewUrl,id:t.id,isRegisteredWithCasper:!1,isSupportedByCasper:!0,isTemplate:!1,mimeType:t.mimeType,name:t.name,oAuthContext:t.oAuthContext,sourceType:t.sourceType,viewUrl:t.viewUrl});return yn(n,e,[a],l,i,o,r)}function qo(n,e,t,l,i){const o=l.replace("{courseId}",n).replace("{folderId}",e),r={[i.headerName]:i.headerValue};return Je(o,t,{headers:r}).then(a=>a.map(u=>ln.fromApi(u)))}function Mt(n,e,t,l,i,o,r,a){const u=[];t.forEach(d=>a(d)),t=t.filter(d=>{const m=vo(d,l);return m.valid||a({name:d.name,error:m.error}),m.valid});const s=function(d){if(t.length===0){d();return}const m=t.pop();o(m).then(h=>{if(h.error){a({...h,name:m.name}),s(d);return}qo(n,e,[h],r,i).then(p=>{p.forEach(E=>{a(E),E.fileRepoFile=h,u.push(E)}),s(d)})}).catch(()=>{a({name:m.name,error:Y.unknown}),s(d)})},c=new Promise(d=>s(d)),f=new Promise(d=>s(d));return Promise.all([c,f]).then(()=>u)}function Vo(n,e,t,l,i,o,r,a){return Mt(n,e,t,l,i,s=>Ht(s,o).then(c=>Uo(s,c)),r,a)}function Ht(n,e){return Ro(n,e.tokenProviderEndpoint,e.token).then(t=>(e.token=t,e))}const _t={measureFileLinkingKpiEndpoint:"/restapi/personal/courses/measurefilelinkingkpi/v1",measureFileUploadKpiEndpoint:"/restapi/personal/courses/measurefileuploadkpi/v1"};function zo(n,e,t){const l={[e.headerName]:e.headerValue};return Je(n,t,{headers:l})}function ht(n,e,t){t&&t.length>0&&zo(n,e,t)}function Go(n,e){const t=e.filter(i=>i.cloudFile).map(i=>i.cloudFile),l=e.filter(i=>i.fileRepoFile).map(i=>i.fileRepoFile);ht(_t.measureFileLinkingKpiEndpoint,n,t),ht(_t.measureFileUploadKpiEndpoint,n,l)}function on(n){let{filesStatus:e}=he(),t=!1;e=e.map(l=>l.name===n.name?(t=!0,n):l),t||e.push(n),qe({filesStatus:e})}function kn(){qe({apiError:!1});const{filesStatus:n}=he();n.every(e=>e.error||e.success)&&qe({filesStatus:[]})}function Ko(n){kn();const{courseId:e,folderId:t,cloudServiceSettings:l,fileValidationSettings:i,antiForgeryHeaderSettings:o}=he();Do(e,t,l.GoogleDrive.pickerUrl,!0,i,o,Fe.addCloudFilesToCourseFolder,on).then(r=>rn(r,n)).catch(sn)}function jo(n){kn();const{courseId:e,folderId:t,cloudServiceSettings:l,fileValidationSettings:i,antiForgeryHeaderSettings:o,fileRepoSettings:r,enableUploadFromOneDrive:a,enableLinkingFromOneDrive:u}=he();No(e,t,l.OneDrive.pickerUrl,!0,i,o,r,Fe.addCloudFilesToCourseFolder,Fe.addFileRepoFilesToCourseFolder,on,a,u).then(s=>rn(s,n)).catch(sn)}function Wo(n,e){kn();const{courseId:t,folderId:l,fileValidationSettings:i,fileRepoSettings:o,antiForgeryHeaderSettings:r}=he();Vo(t,l,n,i,r,o,Fe.addFileRepoFilesToCourseFolder,on).then(a=>rn(a,e)).catch(sn)}function Jo(n,e,t){const{recentCloudFiles:l,courseId:i,folderId:o,fileValidationSettings:r,antiForgeryHeaderSettings:a}=he(),u=l[e].find(s=>s.id===n);Ho(i,o,u,r,a,Fe.addCloudFilesToCourseFolder,on).then(s=>rn(s,t)).catch(sn)}function rn(n,e){const t=document.querySelector(_n.quickAddButton),l=document.querySelector(_n.modal);t&&!l&&t.focus(),e&&e(),Go(he().antiForgeryHeaderSettings,n)}function sn(n){console.error(n),qe({apiError:!0})}function Qo(n){const e=he().kpis[n];e&&ai(e.measureSection,e.measurement,e.measureContext)}document.addEventListener("DOMContentLoaded",Xo);function Xo(){const n=document.getElementById("contentarea-planner-bannerfeedback");n&&new Oo({target:n});const e=document.getElementById("contentarea-bannerfeedback"),t=document.getElementById("contentarea-actionlist");t&&(new hi({target:t,props:{addViewCallback:Yo,kpiCallback:Qo}}),new yo({target:e}),window.store=Se)}function Yo(n){const e=()=>{const t=document.querySelector("#link-resources");t.classList.contains("active")&&t.click()};switch(n.source){case"OneDrive":jo(e);break;case"GoogleDrive":Ko(e);break;case"RecentGoogleDrive":Jo(n.elementId,n.cloudProvider,e);break;case"Computer":Wo(n.files,e);break}}
//# sourceMappingURL=index-75d1c9fe.js.map
